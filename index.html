<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BEAMOVE ‚Ä¢ Sua Jornada Fitness</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<!-- Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --text-primary: #0f172a;
    --text-secondary: #475569;
    --accent: #8b5cf6;
    --accent-light: #a78bfa;
    --accent-gradient: linear-gradient(135deg, #8b5cf6 0%, #c084fc 100%);
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --border: #e2e8f0;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
    --hover-shadow: 0 20px 60px -10px rgba(139, 92, 246, 0.3);
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.dark {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --border: #334155;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
}

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: var(--transition);
    line-height: 1.6;
    height: 100vh;
    overflow: hidden;
}

/* Auth Styles */
.auth-container {
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-gradient);
    padding: 20px;
}

.auth-card {
    background: var(--bg-secondary);
    padding: 40px;
    border-radius: 30px;
    width: 100%;
    max-width: 400px;
    box-shadow: var(--card-shadow);
    animation: slideUp 0.5s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.auth-card h2 {
    font-size: 32px;
    font-weight: 800;
    margin-bottom: 10px;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.auth-card input {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    transition: var(--transition);
}

.auth-card input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.btn {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: 15px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    margin: 10px 0;
}

.btn-primary {
    background: var(--accent-gradient);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--hover-shadow);
}

.btn-secondary {
    background: var(--bg-primary);
    color: var(--text-primary);
    border: 2px solid var(--border);
}

.btn-secondary:hover {
    border-color: var(--accent);
    color: var(--accent);
}

/* Main App */
#appScreen {
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Header */
header {
    background: var(--bg-secondary);
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
    background: rgba(var(--bg-secondary-rgb), 0.8);
    flex-shrink: 0;
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 28px;
    font-weight: 800;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -0.5px;
}

.header-actions {
    display: flex;
    gap: 15px;
}

.icon-btn {
    background: none;
    border: none;
    color: var(--text-primary);
    cursor: pointer;
    padding: 8px;
    border-radius: 12px;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 8px;
}

.icon-btn:hover {
    background: var(--bg-primary);
    color: var(--accent);
}

/* Content Area */
.content-area {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    padding-bottom: 80px;
}

/* Cards de Produtos */
.products-section {
    max-width: 1200px;
    margin: 0 auto 30px;
}

.section-title {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.featured-card {
    background: var(--accent-gradient);
    border-radius: 30px;
    padding: 30px;
    color: white;
    margin-bottom: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 10px 40px -10px rgba(139, 92, 246, 0.3); }
    50% { box-shadow: 0 20px 60px -10px rgba(139, 92, 246, 0.6); }
    100% { box-shadow: 0 10px 40px -10px rgba(139, 92, 246, 0.3); }
}

.featured-card h3 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 10px;
}

.featured-card p {
    opacity: 0.9;
    margin-bottom: 20px;
}

.featured-card .btn {
    width: auto;
    padding: 15px 40px;
    background: white;
    color: var(--accent);
    margin: 0;
}

.featured-card .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.product-card {
    background: var(--bg-secondary);
    border-radius: 25px;
    padding: 25px;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.product-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: var(--accent-gradient);
    transform: scaleX(0);
    transition: var(--transition);
}

.product-card:hover::before {
    transform: scaleX(1);
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
}

.product-icon {
    width: 60px;
    height: 60px;
    background: var(--accent-gradient);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    color: white;
}

.product-card h4 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 10px;
}

.product-card p {
    color: var(--text-secondary);
    margin-bottom: 20px;
    font-size: 14px;
}

.product-price {
    font-size: 24px;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 15px;
}

.product-badge {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--success);
    color: white;
    padding: 5px 15px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
}

/* Stories */
.stories {
    display: flex;
    gap: 15px;
    overflow-x: auto;
    padding: 10px 0;
    margin-bottom: 30px;
    scrollbar-width: none;
}

.stories::-webkit-scrollbar {
    display: none;
}

.story-item {
    min-width: 100px;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
}

.story-item:hover {
    transform: translateY(-5px);
}

.story-circle {
    width: 100px;
    height: 100px;
    border-radius: 30px;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    border: 3px solid var(--bg-secondary);
    transition: var(--transition);
    box-shadow: var(--card-shadow);
}

.story-item:hover .story-circle {
    transform: scale(1.05);
    box-shadow: var(--hover-shadow);
}

.story-circle span {
    color: white;
    font-weight: 600;
    font-size: 32px;
}

.story-label {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
}

/* Feed */
.create-post {
    background: var(--bg-secondary);
    border-radius: 25px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: var(--card-shadow);
}

.create-post textarea {
    width: 100%;
    padding: 15px;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    resize: none;
    margin-bottom: 15px;
    font-family: 'Inter', sans-serif;
}

.create-post textarea:focus {
    outline: none;
    border-color: var(--accent);
}

.post-card {
    background: var(--bg-secondary);
    border-radius: 25px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: var(--card-shadow);
    animation: fadeIn 0.5s ease;
}

.post-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
}

.post-avatar {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 20px;
}

.post-info h4 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 4px;
}

.post-info span {
    font-size: 12px;
    color: var(--text-secondary);
}

.post-content {
    margin-bottom: 15px;
    line-height: 1.6;
}

.post-actions {
    display: flex;
    gap: 20px;
    border-top: 1px solid var(--border);
    padding-top: 15px;
}

.post-action {
    display: flex;
    align-items: center;
    gap: 8px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition);
}

.post-action:hover {
    color: var(--accent);
}

/* Chat */
.chat-container {
    max-width: 800px;
    margin: 0 auto;
    height: 100%;
    display: flex;
    flex-direction: column;
    gap: 20px;
}

.chat-main {
    background: var(--bg-secondary);
    border-radius: 30px;
    display: flex;
    flex-direction: column;
    height: calc(100vh - 200px);
    box-shadow: var(--card-shadow);
    overflow: hidden;
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 25px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    max-width: 80%;
    animation: fadeIn 0.3s ease;
}

.message.sent {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.message-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 16px;
    font-weight: 600;
    flex-shrink: 0;
}

.message-content {
    background: var(--bg-primary);
    padding: 12px 16px;
    border-radius: 20px;
    border-bottom-left-radius: 5px;
    position: relative;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

.message.sent .message-content {
    background: var(--accent-gradient);
    color: white;
    border-bottom-left-radius: 20px;
    border-bottom-right-radius: 5px;
}

.message-content p {
    margin-bottom: 5px;
    font-size: 14px;
}

.message-time {
    font-size: 10px;
    opacity: 0.7;
    display: block;
    text-align: right;
}

.chat-input-area {
    padding: 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
    background: var(--bg-secondary);
}

.chat-input-area input {
    flex: 1;
    padding: 15px 20px;
    border: 2px solid var(--border);
    border-radius: 30px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 15px;
    transition: var(--transition);
}

.chat-input-area input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.chat-input-area button {
    width: 55px;
    height: 55px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
    box-shadow: var(--card-shadow);
}

.chat-input-area button:hover {
    transform: scale(1.1);
    box-shadow: var(--hover-shadow);
}

/* Evolu√ß√£o Section */
.evolucao-container {
    max-width: 600px;
    margin: 0 auto;
}

.evolucao-header {
    background: var(--accent-gradient);
    border-radius: 30px;
    padding: 30px;
    color: white;
    margin-bottom: 30px;
    text-align: center;
}

.evolucao-header h2 {
    font-size: 32px;
    margin-bottom: 10px;
}

.evolucao-header p {
    opacity: 0.9;
}

/* Profile */
.profile-container {
    max-width: 800px;
    margin: 0 auto;
}

.profile-card {
    background: var(--bg-secondary);
    border-radius: 30px;
    overflow: hidden;
    box-shadow: var(--card-shadow);
    margin-bottom: 30px;
}

.profile-cover {
    height: 150px;
    background: var(--accent-gradient);
    position: relative;
}

.profile-avatar-wrapper {
    position: relative;
    display: flex;
    justify-content: center;
    margin-top: -60px;
    margin-bottom: 20px;
}

.profile-avatar-large {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: 5px solid var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 48px;
    font-weight: 700;
    box-shadow: var(--card-shadow);
}

.profile-info {
    padding: 0 30px 30px;
    text-align: center;
}

.profile-name {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 10px;
}

.profile-bio {
    color: var(--text-secondary);
    margin-bottom: 20px;
    font-size: 16px;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

.profile-stats {
    display: flex;
    justify-content: center;
    gap: 40px;
    margin-bottom: 25px;
    padding: 20px 0;
    border-top: 1px solid var(--border);
    border-bottom: 1px solid var(--border);
}

.stat-item {
    text-align: center;
}

.stat-value {
    font-size: 28px;
    font-weight: 700;
    color: var(--accent);
}

.stat-label {
    font-size: 14px;
    color: var(--text-secondary);
}

.profile-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: var(--accent);
    text-decoration: none;
    font-size: 16px;
    padding: 10px 20px;
    border-radius: 30px;
    background: var(--bg-primary);
    transition: var(--transition);
}

.profile-link:hover {
    background: var(--accent);
    color: white;
}

.profile-edit-btn {
    margin: 0 30px 30px;
    width: calc(100% - 60px);
    padding: 15px;
    background: var(--accent-gradient);
    color: white;
    border: none;
    border-radius: 15px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.profile-edit-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--hover-shadow);
}

.edit-profile-form {
    background: var(--bg-secondary);
    border-radius: 30px;
    padding: 30px;
    margin-top: 20px;
    animation: slideDown 0.3s ease;
    box-shadow: var(--card-shadow);
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.edit-profile-form h3 {
    margin-bottom: 20px;
    font-size: 24px;
}

.edit-profile-form input,
.edit-profile-form textarea {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    font-family: 'Inter', sans-serif;
}

.edit-profile-form textarea {
    min-height: 100px;
    resize: vertical;
}

.edit-profile-form input:focus,
.edit-profile-form textarea:focus {
    outline: none;
    border-color: var(--accent);
}

/* Bottom Navigation */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--bg-secondary);
    padding: 12px 20px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.05);
    backdrop-filter: blur(10px);
    background: rgba(var(--bg-secondary-rgb), 0.95);
    z-index: 1000;
    border-top: 1px solid var(--border);
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition);
    padding: 8px 16px;
    border-radius: 50px;
}

.nav-item.active {
    color: var(--accent);
    background: var(--bg-primary);
}

.nav-item i {
    font-size: 24px;
}

.nav-item span {
    font-size: 12px;
    font-weight: 500;
}

/* Utilit√°rios */
.hidden {
    display: none !important;
}

.section {
    height: 100%;
    overflow-y: auto;
}

/* Responsividade */
@media (max-width: 768px) {
    .featured-card {
        flex-direction: column;
        text-align: center;
    }
    
    .featured-card .btn {
        width: 100%;
    }
    
    .profile-stats {
        gap: 20px;
    }
    
    .story-circle {
        width: 80px;
        height: 80px;
    }
    
    .story-circle span {
        font-size: 28px;
    }
    
    .story-item {
        min-width: 80px;
    }
}
</style>
</head>

<body>

<!-- Login Screen -->
<div id="loginScreen" class="auth-container">
    <div class="auth-card">
        <h2>BEAMOVE</h2>
        <p style="margin-bottom: 30px; color: var(--text-secondary);">Fa√ßa login para continuar</p>
        <input type="email" id="loginEmail" placeholder="Seu email">
        <input type="password" id="loginPassword" placeholder="Sua senha">
        <button class="btn btn-primary" onclick="login()">Entrar</button>
        <button class="btn btn-secondary" onclick="showRegister()">Criar nova conta</button>
    </div>
</div>

<!-- Register Screen -->
<div id="registerScreen" class="auth-container hidden">
    <div class="auth-card">
        <h2>Criar Conta</h2>
        <p style="margin-bottom: 30px; color: var(--text-secondary);">Comece sua jornada fitness</p>
        <input type="text" id="username" placeholder="@usuario">
        <input type="email" id="registerEmail" placeholder="Email">
        <input type="password" id="registerPassword" placeholder="Senha">
        <button class="btn btn-primary" onclick="register()">Cadastrar</button>
        <button class="btn btn-secondary" onclick="showLogin()">Voltar ao login</button>
    </div>
</div>

<!-- Main App -->
<div id="appScreen" class="hidden">
    <header>
        <div class="header-content">
            <div class="logo">BEAMOVE</div>
            <div class="header-actions">
                <button class="icon-btn" onclick="toggleDark()">
                    <i data-lucide="moon"></i>
                </button>
                <button class="icon-btn" onclick="logout()">
                    <i data-lucide="log-out"></i>
                    <span>Sair</span>
                </button>
            </div>
        </div>
    </header>

    <div class="content-area">
        <!-- Home Section -->
        <div id="home" class="section">
            <!-- Featured Product Card -->
            <div class="featured-card">
                <div>
                    <h3>ü•ó Acompanhamento Nutricional</h3>
                    <p>Planos personalizados com nutricionistas especializados</p>
                    <div style="display: flex; gap: 15px; justify-content: center;">
                        <button class="btn" onclick="window.open('https://hotmart.com', '_blank')">Hotmart</button>
                        <button class="btn" onclick="window.open('https://kiwify.com', '_blank')">Kiwify</button>
                    </div>
                </div>
                <i data-lucide="apple" style="width: 80px; height: 80px; opacity: 0.5;"></i>
            </div>

            <!-- Products Grid -->
            <h2 class="section-title">
                <i data-lucide="package"></i>
                Nossos Produtos
            </h2>
            <div class="products-grid">
                <div class="product-card" onclick="openProduct('yoga')">
                    <div class="product-badge">Novo</div>
                    <div class="product-icon">
                        <i data-lucide="activity"></i>
                    </div>
                    <h4>Yoga para Iniciantes</h4>
                    <p>Curso completo de yoga para todos os n√≠veis</p>
                    <div class="product-price">R$ 97,00</div>
                    <button class="btn btn-primary" onclick="event.stopPropagation(); window.open('https://hotmart.com', '_blank')">Comprar</button>
                </div>

                <div class="product-card" onclick="openProduct('emagrecimento')">
                    <div class="product-icon">
                        <i data-lucide="flame"></i>
                    </div>
                    <h4>Emagrecimento Total</h4>
                    <p>Programa completo para queima de gordura</p>
                    <div class="product-price">R$ 147,00</div>
                    <button class="btn btn-primary" onclick="event.stopPropagation(); window.open('https://hotmart.com', '_blank')">Comprar</button>
                </div>

                <div class="product-card" onclick="openProduct('ebooks')">
                    <div class="product-icon">
                        <i data-lucide="book-open"></i>
                    </div>
                    <h4>E-books Fitness</h4>
                    <p>Guias pr√°ticos para sua transforma√ß√£o</p>
                    <div class="product-price">R$ 37,00</div>
                    <button class="btn btn-primary" onclick="event.stopPropagation(); window.open('https://kiwify.com', '_blank')">Comprar</button>
                </div>
            </div>

            <!-- Stories -->
            <h2 class="section-title">
                <i data-lucide="compass"></i>
                Explorar
            </h2>
            <div class="stories">
                <div class="story-item" onclick="openStory('treinos')">
                    <div class="story-circle">
                        <span>üí™</span>
                    </div>
                    <span class="story-label">Treinos</span>
                </div>
                <div class="story-item" onclick="openStory('receitas')">
                    <div class="story-circle">
                        <span>ü•ó</span>
                    </div>
                    <span class="story-label">Receitas</span>
                </div>
                <div class="story-item" onclick="openStory('yoga')">
                    <div class="story-circle">
                        <span>üßò</span>
                    </div>
                    <span class="story-label">Yoga</span>
                </div>
                <div class="story-item" onclick="openStory('dicas')">
                    <div class="story-circle">
                        <span>üìö</span>
                    </div>
                    <span class="story-label">Dicas</span>
                </div>
            </div>

            <!-- Feed -->
            <div id="feed"></div>
        </div>

        <!-- Chat Section -->
        <div id="chat" class="section hidden">
            <div class="chat-container">
                <div class="chat-main">
                    <div class="chat-messages" id="chatBox"></div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Digite sua mensagem..." onkeypress="if(event.key === 'Enter') sendMessage()">
                        <button onclick="sendMessage()">
                            <i data-lucide="send"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Evolu√ß√£o Section -->
        <div id="evolucao" class="section hidden">
            <div class="evolucao-container">
                <div class="evolucao-header">
                    <h2>üìà Sua Evolu√ß√£o</h2>
                    <p>Compartilhe sua jornada com a comunidade</p>
                </div>
                
                <div class="create-post">
                    <textarea id="evolucaoInput" placeholder="Compartilhe sua evolu√ß√£o... Conte como est√° sendo sua jornada! üí™"></textarea>
                    <button class="btn btn-primary" onclick="addEvolucao()">Publicar Evolu√ß√£o</button>
                </div>
                
                <div id="evolucaoFeed"></div>
            </div>
        </div>

        <!-- Profile Section -->
        <div id="profile" class="section hidden">
            <div class="profile-container">
                <div class="profile-card">
                    <div class="profile-cover"></div>
                    <div class="profile-avatar-wrapper">
                        <div class="profile-avatar-large" id="profileAvatar"></div>
                    </div>
                    
                    <div class="profile-info">
                        <h1 class="profile-name" id="profileUsername"></h1>
                        <p class="profile-bio" id="profileBio"></p>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="profilePosts">0</div>
                                <div class="stat-label">Posts</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="profileEvolucoes">0</div>
                                <div class="stat-label">Evolu√ß√µes</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="profileSeguidores">0</div>
                                <div class="stat-label">Seguidores</div>
                            </div>
                        </div>
                        
                        <a id="profileLink" class="profile-link" target="_blank">
                            <i data-lucide="globe"></i>
                            <span>Adicionar link</span>
                        </a>
                    </div>
                    
                    <button class="profile-edit-btn" onclick="toggleEditProfile()">
                        <i data-lucide="edit-2"></i>
                        Editar Perfil
                    </button>
                </div>

                <!-- Edit Profile Form -->
                <div id="editProfileForm" class="edit-profile-form hidden">
                    <h3>Editar Perfil</h3>
                    <input type="text" id="editName" placeholder="Seu nome">
                    <textarea id="editBio" maxlength="200" placeholder="Bio (200 caracteres)"></textarea>
                    <input type="text" id="editLink" placeholder="Link do seu site">
                    <button class="btn btn-primary" onclick="saveProfile()">Salvar Altera√ß√µes</button>
                    <button class="btn btn-secondary" onclick="toggleEditProfile()">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="showTab('home', this)">
            <i data-lucide="home"></i>
            <span>In√≠cio</span>
        </div>
        <div class="nav-item" onclick="showTab('chat', this)">
            <i data-lucide="message-circle"></i>
            <span>Chat</span>
        </div>
        <div class="nav-item" onclick="showTab('evolucao', this)">
            <i data-lucide="trending-up"></i>
            <span>Evolu√ß√£o</span>
        </div>
        <div class="nav-item" onclick="showTab('profile', this)">
            <i data-lucide="user"></i>
            <span>Perfil</span>
        </div>
    </nav>
</div>

<script>
// Initialize Lucide icons
lucide.createIcons();

// Firebase Config
const firebaseConfig = {
    apiKey: "AIzaSyBdIH1kKv_e4f25nubgQ9ED8hyfl-3FmbM",
    authDomain: "beamove-pro.firebaseapp.com",
    projectId: "beamove-pro",
    storageBucket: "beamove-pro.firebasestorage.app",
    messagingSenderId: "816563837877",
    appId: "1:816563837877:web:7d812c57fecc0338f117fc"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Auth State Observer
auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('loginScreen').classList.add('hidden');
        document.getElementById('registerScreen').classList.add('hidden');
        document.getElementById('appScreen').classList.remove('hidden');
        
        loadFeed();
        loadChat();
        loadProfile();
        loadEvolucao();
    } else {
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('appScreen').classList.add('hidden');
    }
});

// Register
function register() {
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    
    if (!username.startsWith('@')) {
        alert('Username deve come√ßar com @');
        return;
    }
    
    db.collection('users').where('username', '==', username).get()
        .then(snapshot => {
            if (!snapshot.empty) {
                alert('Username j√° existe');
                return;
            }
            
            auth.createUserWithEmailAndPassword(email, password)
                .then(cred => {
                    return db.collection('users').doc(cred.user.uid).set({
                        username: username,
                        bio: 'Ol√°, estou usando BEAMOVE! üí™',
                        link: '',
                        name: username,
                        createdAt: new Date()
                    });
                })
                .then(() => {
                    showLogin();
                })
                .catch(error => {
                    alert(error.message);
                });
        });
}

// Login
function login() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    auth.signInWithEmailAndPassword(email, password)
        .catch(error => {
            alert('Email ou senha incorretos');
        });
}

// Logout
function logout() {
    auth.signOut();
}

// Show Register Screen
function showRegister() {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('registerScreen').classList.remove('hidden');
}

// Show Login Screen
function showLogin() {
    document.getElementById('registerScreen').classList.add('hidden');
    document.getElementById('loginScreen').classList.remove('hidden');
}

// Toggle Dark Mode
function toggleDark() {
    document.body.classList.toggle('dark');
    lucide.createIcons();
}

// Show Tab
function showTab(tabName, element) {
    // Hide all sections
    document.getElementById('home').classList.add('hidden');
    document.getElementById('chat').classList.add('hidden');
    document.getElementById('evolucao').classList.add('hidden');
    document.getElementById('profile').classList.add('hidden');
    
    // Show selected section
    document.getElementById(tabName).classList.remove('hidden');
    
    // Update nav active state
    document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
    });
    element.classList.add('active');
    
    // Refresh icons
    lucide.createIcons();
}

// Open Story
function openStory(type) {
    let message = '';
    switch(type) {
        case 'treinos':
            message = 'üèãÔ∏è **TREINOS**\n\nConfira nossos treinos exclusivos:\n‚Ä¢ Treino A - Superior\n‚Ä¢ Treino B - Inferior\n‚Ä¢ Treino C - Cardio\n\nEm breve mais conte√∫do!';
            break;
        case 'receitas':
            message = 'ü•ó **RECEITAS FIT**\n\nReceita do dia: Bowl de Quinoa\n‚Ä¢ 100g quinoa\n‚Ä¢ 150g frango grelhado\n‚Ä¢ Mix de folhas\n‚Ä¢ Tomate cereja\n‚Ä¢ Molho de iogurte\n\nCalorias: 450 kcal';
            break;
        case 'yoga':
            message = 'üßò **YOGA**\n\nSequ√™ncia do dia:\n‚Ä¢ Sauda√ß√£o ao Sol (5x)\n‚Ä¢ Postura do Guerreiro\n‚Ä¢ Postura da √Årvore\n‚Ä¢ Savasana (10min)\n\nBenef√≠cios: alongamento e equil√≠brio';
            break;
        case 'dicas':
            message = 'üìö **DICAS FITNESS**\n\nDica do dia: Hidrata√ß√£o\n‚Ä¢ Beba 2L de √°gua por dia\n‚Ä¢ Evite refrigerantes\n‚Ä¢ Ch√°s s√£o bem-vindos\n‚Ä¢ √Ågua com lim√£o pela manh√£';
            break;
    }
    
    // Create a modal-like alert with styled message
    const modal = document.createElement('div');
    modal.style.position = 'fixed';
    modal.style.top = '50%';
    modal.style.left = '50%';
    modal.style.transform = 'translate(-50%, -50%)';
    modal.style.background = 'var(--bg-secondary)';
    modal.style.padding = '30px';
    modal.style.borderRadius = '25px';
    modal.style.boxShadow = 'var(--card-shadow)';
    modal.style.zIndex = '2000';
    modal.style.maxWidth = '400px';
    modal.style.width = '90%';
    modal.style.whiteSpace = 'pre-line';
    
    modal.innerHTML = `
        <h3 style="margin-bottom: 15px; color: var(--accent);">${type.toUpperCase()}</h3>
        <p style="margin-bottom: 20px;">${message}</p>
        <button class="btn btn-primary" onclick="this.parentElement.remove()">Fechar</button>
    `;
    
    document.body.appendChild(modal);
    
    // Remove after 10 seconds
    setTimeout(() => {
        if (modal.parentElement) modal.remove();
    }, 10000);
}

// Open Product
function openProduct(type) {
    openStory(type);
}

// Load Feed (general posts)
function loadFeed() {
    db.collection('posts').orderBy('created', 'desc').limit(20)
        .onSnapshot(snapshot => {
            const feed = document.getElementById('feed');
            feed.innerHTML = '';
            
            snapshot.forEach(async doc => {
                const post = doc.data();
                const userDoc = await db.collection('users').doc(post.user).get();
                const userData = userDoc.data();
                
                const postElement = document.createElement('div');
                postElement.className = 'post-card';
                postElement.innerHTML = `
                    <div class="post-header">
                        <div class="post-avatar">${userData.username.charAt(1).toUpperCase()}</div>
                        <div class="post-info">
                            <h4>${userData.username}</h4>
                            <span>${formatDate(post.created)}</span>
                        </div>
                    </div>
                    <div class="post-content">${post.text}</div>
                    <div class="post-actions">
                        <div class="post-action" onclick="likePost('${doc.id}')">
                            <i data-lucide="heart"></i>
                            <span>${post.likes || 0}</span>
                        </div>
                        <div class="post-action" onclick="commentPost('${doc.id}')">
                            <i data-lucide="message-circle"></i>
                            <span>${post.comments || 0}</span>
                        </div>
                    </div>
                `;
                feed.appendChild(postElement);
            });
            
            lucide.createIcons();
        });
}

// Load Evolu√ß√£o Feed
function loadEvolucao() {
    db.collection('evolucao').orderBy('created', 'desc').limit(20)
        .onSnapshot(snapshot => {
            const feed = document.getElementById('evolucaoFeed');
            if (!feed) return;
            
            feed.innerHTML = '';
            
            snapshot.forEach(async doc => {
                const post = doc.data();
                const userDoc = await db.collection('users').doc(post.user).get();
                const userData = userDoc.data();
                
                const postElement = document.createElement('div');
                postElement.className = 'post-card';
                postElement.innerHTML = `
                    <div class="post-header">
                        <div class="post-avatar">${userData.username.charAt(1).toUpperCase()}</div>
                        <div class="post-info">
                            <h4>${userData.username}</h4>
                            <span>${formatDate(post.created)}</span>
                        </div>
                    </div>
                    <div class="post-content">
                        <span style="background: var(--accent-gradient); color: white; padding: 3px 10px; border-radius: 50px; font-size: 12px; display: inline-block; margin-bottom: 10px;">üìà Evolu√ß√£o</span>
                        <p>${post.text}</p>
                    </div>
                    <div class="post-actions">
                        <div class="post-action" onclick="likePost('${doc.id}')">
                            <i data-lucide="heart"></i>
                            <span>${post.likes || 0}</span>
                        </div>
                        <div class="post-action" onclick="motivatePost('${doc.id}')">
                            <i data-lucide="award"></i>
                            <span>Motivar</span>
                        </div>
                    </div>
                `;
                feed.appendChild(postElement);
            });
            
            lucide.createIcons();
        });
}

// Add Post
function addPost() {
    const postInput = document.getElementById('postInput');
    if (!postInput.value.trim()) return;
    
    db.collection('posts').add({
        text: postInput.value,
        user: auth.currentUser.uid,
        created: new Date(),
        likes: 0,
        comments: 0
    });
    
    postInput.value = '';
}

// Add Evolu√ß√£o
function addEvolucao() {
    const evolucaoInput = document.getElementById('evolucaoInput');
    if (!evolucaoInput.value.trim()) return;
    
    db.collection('evolucao').add({
        text: evolucaoInput.value,
        user: auth.currentUser.uid,
        created: new Date(),
        likes: 0,
        motivations: 0
    });
    
    evolucaoInput.value = '';
    alert('Evolu√ß√£o compartilhada com sucesso! üéâ');
}

// Load Chat
function loadChat() {
    db.collection('chat').orderBy('created').limit(100)
        .onSnapshot(async snapshot => {
            const chatBox = document.getElementById('chatBox');
            if (!chatBox) return;
            
            chatBox.innerHTML = '';
            
            for (const doc of snapshot.docs) {
                const message = doc.data();
                const userDoc = await db.collection('users').doc(message.user).get();
                const userData = userDoc.data();
                
                const messageElement = document.createElement('div');
                messageElement.className = message.user === auth.currentUser.uid ? 'message sent' : 'message';
                messageElement.innerHTML = `
                    <div class="message-avatar">${userData.username.charAt(1).toUpperCase()}</div>
                    <div class="message-content">
                        <p>${message.text}</p>
                        <span class="message-time">${formatDate(message.created)}</span>
                    </div>
                `;
                chatBox.appendChild(messageElement);
            }
            
            // Scroll to bottom
            chatBox.scrollTop = chatBox.scrollHeight;
        });
}

// Send Message
function sendMessage() {
    const chatInput = document.getElementById('chatInput');
    if (!chatInput.value.trim()) return;
    
    db.collection('chat').add({
        text: chatInput.value,
        user: auth.currentUser.uid,
        created: new Date()
    })
    .then(() => {
        chatInput.value = '';
    })
    .catch(error => {
        alert('Erro ao enviar mensagem: ' + error.message);
    });
}

// Load Profile
function loadProfile() {
    const user = auth.currentUser;
    
    db.collection('users').doc(user.uid).get()
        .then(doc => {
            const data = doc.data();
            document.getElementById('profileUsername').innerText = data.username;
            document.getElementById('profileBio').innerText = data.bio || 'Ol√°, estou usando BEAMOVE! üí™';
            document.getElementById('profileAvatar').innerText = data.username.charAt(1).toUpperCase();
            
            const linkElement = document.getElementById('profileLink');
            if (data.link) {
                linkElement.href = data.link;
                linkElement.querySelector('span').innerText = data.link.replace('https://', '').substring(0, 30) + '...';
            }
            
            // Load stats
            loadProfileStats();
        });
    
    // Set edit form values
    document.getElementById('editName').value = '';
    document.getElementById('editBio').value = '';
    document.getElementById('editLink').value = '';
}

// Load Profile Stats
function loadProfileStats() {
    const user = auth.currentUser;
    
    // Count posts
    db.collection('posts').where('user', '==', user.uid).get()
        .then(snapshot => {
            document.getElementById('profilePosts').innerText = snapshot.size;
        });
    
    // Count evolu√ß√µes
    db.collection('evolucao').where('user', '==', user.uid).get()
        .then(snapshot => {
            document.getElementById('profileEvolucoes').innerText = snapshot.size;
        });
    
    // Mock followers
    document.getElementById('profileSeguidores').innerText = '128';
}

// Toggle Edit Profile
function toggleEditProfile() {
    const form = document.getElementById('editProfileForm');
    form.classList.toggle('hidden');
    
    if (!form.classList.contains('hidden')) {
        // Load current data
        db.collection('users').doc(auth.currentUser.uid).get()
            .then(doc => {
                const data = doc.data();
                document.getElementById('editName').value = data.name || '';
                document.getElementById('editBio').value = data.bio || '';
                document.getElementById('editLink').value = data.link || '';
            });
    }
}

// Save Profile
function saveProfile() {
    const name = document.getElementById('editName').value;
    const bio = document.getElementById('editBio').value;
    const link = document.getElementById('editLink').value;
    
    db.collection('users').doc(auth.currentUser.uid).update({
        name: name,
        bio: bio,
        link: link
    })
    .then(() => {
        loadProfile();
        toggleEditProfile();
        alert('Perfil atualizado com sucesso!');
    })
    .catch(error => {
        alert('Erro ao atualizar perfil: ' + error.message);
    });
}

// Format Date
function formatDate(date) {
    if (!date) return '';
    const d = new Date(date.seconds * 1000);
    const now = new Date();
    const diff = now - d;
    
    if (diff < 60000) return 'Agora mesmo';
    if (diff < 3600000) return `${Math.floor(diff / 60000)} minutos atr√°s`;
    if (diff < 86400000) return `${Math.floor(diff / 3600000)} horas atr√°s`;
    if (diff < 604800000) return `${Math.floor(diff / 86400000)} dias atr√°s`;
    
    return d.toLocaleDateString('pt-BR');
}

// Like Post
function likePost(postId) {
    alert('Funcionalidade de likes em breve! ‚≠ê');
}

// Comment Post
function commentPost(postId) {
    alert('Funcionalidade de coment√°rios em breve! üí¨');
}

// Motivate Post
function motivatePost(postId) {
    alert('Motiva√ß√£o enviada! Continue assim! üí™');
}
</script>
</body>
</html>
