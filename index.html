<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BEAMOVE ‚Ä¢ Sua Jornada Fitness</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<!-- Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --text-primary: #0f172a;
    --text-secondary: #475569;
    --accent: #8b5cf6;
    --accent-light: #a78bfa;
    --accent-gradient: linear-gradient(135deg, #8b5cf6 0%, #c084fc 100%);
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --border: #e2e8f0;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
    --hover-shadow: 0 20px 60px -10px rgba(139, 92, 246, 0.3);
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --msn-blue: #d8e8ff;
    --msn-dark-blue: #c0d4f0;
    --msn-light: #f0f0f0;
}

.dark {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --border: #334155;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
    --msn-blue: #1e293b;
    --msn-dark-blue: #0f172a;
    --msn-light: #334155;
}

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: var(--transition);
    line-height: 1.6;
}

/* Auth Styles */
.auth-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-gradient);
    padding: 20px;
}

.auth-card {
    background: var(--bg-secondary);
    padding: 40px;
    border-radius: 30px;
    width: 100%;
    max-width: 400px;
    box-shadow: var(--card-shadow);
    animation: slideUp 0.5s ease;
}

@keyframes slideUp {
    from {
        opacity: 0;
        transform: translateY(20px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.auth-card h2 {
    font-size: 32px;
    font-weight: 800;
    margin-bottom: 10px;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.auth-card input {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    transition: var(--transition);
}

.auth-card input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.btn {
    width: 100%;
    padding: 15px;
    border: none;
    border-radius: 15px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    margin: 10px 0;
}

.btn-primary {
    background: var(--accent-gradient);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--hover-shadow);
}

.btn-secondary {
    background: var(--bg-primary);
    color: var(--text-primary);
    border: 2px solid var(--border);
}

.btn-secondary:hover {
    border-color: var(--accent);
    color: var(--accent);
}

/* Header */
header {
    background: var(--bg-secondary);
    padding: 20px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
    position: sticky;
    top: 0;
    z-index: 100;
    backdrop-filter: blur(10px);
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 28px;
    font-weight: 800;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -0.5px;
}

.header-actions {
    display: flex;
    gap: 15px;
}

.icon-btn {
    background: none;
    border: none;
    color: var(--text-primary);
    cursor: pointer;
    padding: 8px;
    border-radius: 12px;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 8px;
}

.icon-btn:hover {
    background: var(--bg-primary);
    color: var(--accent);
}

/* Products Section */
.products-section {
    max-width: 1200px;
    margin: 30px auto;
    padding: 0 20px;
}

.section-title {
    font-size: 24px;
    font-weight: 700;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.featured-card {
    background: var(--accent-gradient);
    border-radius: 30px;
    padding: 30px;
    color: white;
    margin-bottom: 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { box-shadow: 0 10px 40px -10px rgba(139, 92, 246, 0.3); }
    50% { box-shadow: 0 20px 60px -10px rgba(139, 92, 246, 0.6); }
    100% { box-shadow: 0 10px 40px -10px rgba(139, 92, 246, 0.3); }
}

.featured-card h3 {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 10px;
}

.featured-card p {
    opacity: 0.9;
    margin-bottom: 20px;
}

.featured-card .btn {
    width: auto;
    padding: 15px 40px;
    background: white;
    color: var(--accent);
    margin: 0;
}

.featured-card .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 25px;
    margin-bottom: 40px;
}

.product-card {
    background: var(--bg-secondary);
    border-radius: 25px;
    padding: 25px;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
    cursor: pointer;
    position: relative;
    overflow: hidden;
}

.product-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 5px;
    background: var(--accent-gradient);
    transform: scaleX(0);
    transition: var(--transition);
}

.product-card:hover::before {
    transform: scaleX(1);
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
}

.product-icon {
    width: 60px;
    height: 60px;
    background: var(--accent-gradient);
    border-radius: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    color: white;
}

.product-card h4 {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 10px;
}

.product-card p {
    color: var(--text-secondary);
    margin-bottom: 20px;
    font-size: 14px;
}

.product-price {
    font-size: 24px;
    font-weight: 700;
    color: var(--accent);
    margin-bottom: 15px;
}

.product-badge {
    position: absolute;
    top: 20px;
    right: 20px;
    background: var(--success);
    color: white;
    padding: 5px 15px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
}

/* Stories Click√°veis */
.stories-grid {
    display: flex;
    gap: 15px;
    overflow-x: auto;
    padding: 10px 0;
    margin-bottom: 20px;
    scrollbar-width: none;
}

.stories-grid::-webkit-scrollbar {
    display: none;
}

.story-card {
    min-width: 100px;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
}

.story-card:hover .story-circle {
    transform: scale(1.05);
    box-shadow: var(--hover-shadow);
}

.story-circle {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 8px;
    border: 3px solid var(--bg-secondary);
    transition: var(--transition);
    font-size: 40px;
}

.story-label {
    font-size: 14px;
    font-weight: 500;
    color: var(--text-secondary);
}

/* Modal de Conte√∫do */
.modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 1000;
    backdrop-filter: blur(5px);
}

.modal.active {
    display: flex;
    align-items: center;
    justify-content: center;
}

.modal-content {
    background: var(--bg-secondary);
    border-radius: 30px;
    padding: 40px;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow-y: auto;
    position: relative;
    animation: modalSlideIn 0.3s ease;
}

@keyframes modalSlideIn {
    from {
        transform: translateY(-50px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

.modal-close {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: var(--text-primary);
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    transition: var(--transition);
}

.modal-close:hover {
    background: var(--bg-primary);
    color: var(--accent);
}

.modal-icon {
    font-size: 60px;
    margin-bottom: 20px;
}

.modal h2 {
    font-size: 28px;
    margin-bottom: 20px;
}

.content-list {
    display: grid;
    gap: 15px;
    margin-top: 20px;
}

.content-item {
    background: var(--bg-primary);
    padding: 20px;
    border-radius: 15px;
    transition: var(--transition);
    cursor: pointer;
}

.content-item:hover {
    transform: translateX(5px);
    background: var(--accent-gradient);
    color: white;
}

.content-item h4 {
    font-size: 18px;
    margin-bottom: 5px;
}

.content-item p {
    font-size: 14px;
    opacity: 0.8;
}

/* MSN Style Chat */
.chat-page {
    height: calc(100vh - 140px);
    display: flex;
    flex-direction: column;
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
    padding-bottom: 80px;
}

.chat-msn-container {
    background: var(--msn-blue);
    border: 2px solid var(--msn-dark-blue);
    border-radius: 10px 10px 0 0;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.chat-msn-header {
    background: var(--msn-dark-blue);
    padding: 10px 15px;
    display: flex;
    align-items: center;
    gap: 10px;
    border-bottom: 1px solid var(--border);
}

.chat-msn-header h3 {
    color: var(--text-primary);
    font-size: 16px;
}

.chat-msn-messages {
    flex: 1;
    overflow-y: auto;
    padding: 15px;
    background: var(--bg-secondary);
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.msn-message {
    display: flex;
    align-items: flex-start;
    gap: 8px;
    max-width: 80%;
    animation: fadeIn 0.3s ease;
}

.msn-message.sent {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.msn-avatar {
    width: 30px;
    height: 30px;
    border-radius: 5px;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 12px;
    font-weight: 600;
    flex-shrink: 0;
}

.msn-bubble {
    background: var(--msn-light);
    padding: 8px 12px;
    border-radius: 10px;
    position: relative;
    border: 1px solid var(--border);
    font-size: 14px;
}

.msn-message.sent .msn-bubble {
    background: var(--accent);
    color: white;
    border-color: var(--accent);
}

.msn-user {
    font-weight: 600;
    font-size: 12px;
    margin-bottom: 3px;
    color: var(--accent);
}

.msn-time {
    font-size: 10px;
    opacity: 0.7;
    margin-top: 3px;
    display: block;
}

.chat-msn-input-area {
    padding: 15px;
    background: var(--msn-dark-blue);
    display: flex;
    gap: 10px;
}

.chat-msn-input-area input {
    flex: 1;
    padding: 10px 15px;
    border: 1px solid var(--border);
    border-radius: 20px;
    background: var(--bg-secondary);
    color: var(--text-primary);
    font-size: 14px;
}

.chat-msn-input-area button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
}

.chat-msn-input-area button:hover {
    transform: scale(1.1);
}

/* Evolu√ß√£o Section */
.evolucao-page {
    padding: 20px;
    max-width: 800px;
    margin: 0 auto;
    padding-bottom: 80px;
}

.evolucao-header {
    margin-bottom: 30px;
}

.evolucao-header h2 {
    font-size: 24px;
    margin-bottom: 5px;
}

.create-evolucao {
    background: var(--bg-secondary);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: var(--card-shadow);
}

.create-evolucao textarea {
    width: 100%;
    padding: 15px;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    resize: none;
    margin-bottom: 15px;
}

.create-evolucao textarea:focus {
    outline: none;
    border-color: var(--accent);
}

.evolucao-feed {
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.evolucao-card {
    background: var(--bg-secondary);
    border-radius: 20px;
    padding: 20px;
    box-shadow: var(--card-shadow);
    border-left: 5px solid var(--accent);
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateX(-10px);
    }
    to {
        opacity: 1;
        transform: translateX(0);
    }
}

.evolucao-header-card {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 10px;
}

.evolucao-avatar {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
}

.evolucao-info h4 {
    font-size: 14px;
    margin-bottom: 2px;
}

.evolucao-info span {
    font-size: 11px;
    color: var(--text-secondary);
}

.evolucao-text {
    margin-bottom: 10px;
    line-height: 1.6;
}

.evolucao-stats {
    display: flex;
    gap: 15px;
    padding-top: 10px;
    border-top: 1px solid var(--border);
    font-size: 13px;
    color: var(--text-secondary);
}

/* Profile Improvements */
.profile-page {
    padding: 20px;
    max-width: 1000px;
    margin: 0 auto;
    padding-bottom: 80px;
}

.profile-header-card {
    background: var(--bg-secondary);
    border-radius: 30px;
    overflow: hidden;
    box-shadow: var(--card-shadow);
    margin-bottom: 30px;
}

.profile-cover {
    height: 200px;
    background: var(--accent-gradient);
    position: relative;
}

.profile-avatar-wrapper {
    position: absolute;
    bottom: -50px;
    left: 40px;
}

.profile-avatar-large {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: 4px solid var(--bg-secondary);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 48px;
    font-weight: 700;
    box-shadow: var(--card-shadow);
}

.profile-info-wrapper {
    padding: 70px 40px 30px 40px;
}

.profile-name-section {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    flex-wrap: wrap;
    gap: 15px;
}

.profile-name-section h1 {
    font-size: 32px;
    font-weight: 700;
}

.edit-profile-btn {
    padding: 10px 20px;
    background: var(--accent-gradient);
    color: white;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 8px;
}

.edit-profile-btn:hover {
    transform: translateY(-2px);
    box-shadow: var(--hover-shadow);
}

.profile-bio {
    color: var(--text-secondary);
    margin-bottom: 25px;
    line-height: 1.8;
    font-size: 16px;
}

.profile-stats-grid {
    display: flex;
    gap: 40px;
    margin-bottom: 25px;
}

.stat-block {
    text-align: center;
}

.stat-number {
    font-size: 28px;
    font-weight: 700;
    color: var(--accent);
}

.stat-label {
    font-size: 14px;
    color: var(--text-secondary);
}

.profile-link {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    color: var(--accent);
    text-decoration: none;
    padding: 10px 0;
}

/* Ficha do Usu√°rio */
.user-ficha {
    background: var(--bg-secondary);
    border-radius: 30px;
    padding: 30px;
    box-shadow: var(--card-shadow);
    margin-bottom: 30px;
}

.ficha-title {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 25px;
}

.ficha-title h3 {
    font-size: 20px;
}

.ficha-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.ficha-item {
    background: var(--bg-primary);
    padding: 15px;
    border-radius: 15px;
}

.ficha-item label {
    display: block;
    font-size: 12px;
    color: var(--text-secondary);
    margin-bottom: 5px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.ficha-item .ficha-value {
    font-size: 18px;
    font-weight: 600;
}

.edit-ficha-btn {
    background: var(--bg-primary);
    border: 2px solid var(--accent);
    color: var(--accent);
    padding: 12px 24px;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    width: 100%;
}

.edit-ficha-btn:hover {
    background: var(--accent);
    color: white;
}

/* Edit Forms */
.edit-form {
    background: var(--bg-secondary);
    border-radius: 30px;
    padding: 30px;
    margin-top: 20px;
    animation: slideDown 0.3s ease;
}

@keyframes slideDown {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.edit-form h3 {
    margin-bottom: 20px;
}

.edit-form input,
.edit-form textarea,
.edit-form select {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
}

.edit-form textarea {
    min-height: 100px;
    resize: vertical;
}

.edit-form .btn-group {
    display: flex;
    gap: 10px;
    margin-top: 20px;
}

/* Progress Cards */
.progress-feed {
    margin-top: 30px;
}

.progress-card {
    background: var(--bg-secondary);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 15px;
    box-shadow: var(--card-shadow);
    border-left: 5px solid var(--accent);
}

.progress-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}

.progress-date {
    font-size: 12px;
    color: var(--text-secondary);
}

.progress-title {
    font-weight: 600;
    margin-bottom: 10px;
}

.progress-details {
    display: flex;
    gap: 20px;
    margin-top: 10px;
    padding-top: 10px;
    border-top: 1px solid var(--border);
    font-size: 14px;
}

.progress-detail {
    display: flex;
    align-items: center;
    gap: 5px;
}

/* Navigation */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--bg-secondary);
    padding: 15px 30px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    box-shadow: 0 -5px 20px rgba(0, 0, 0, 0.05);
    backdrop-filter: blur(10px);
    z-index: 100;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 5px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition);
    position: relative;
    padding: 8px 16px;
    border-radius: 50px;
}

.nav-item.active {
    color: var(--accent);
    background: var(--bg-primary);
}

.nav-item i {
    font-size: 24px;
}

.nav-item span {
    font-size: 12px;
    font-weight: 500;
}

.nav-badge {
    position: absolute;
    top: -5px;
    right: -5px;
    background: var(--danger);
    color: white;
    font-size: 10px;
    padding: 2px 6px;
    border-radius: 50px;
}

/* Utilit√°rios */
.hidden {
    display: none !important;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
    padding-bottom: 100px;
}

/* Responsividade */
@media (max-width: 768px) {
    .profile-avatar-wrapper {
        left: 20px;
    }
    
    .profile-avatar-large {
        width: 100px;
        height: 100px;
        font-size: 40px;
    }
    
    .profile-info-wrapper {
        padding: 60px 20px 20px 20px;
    }
    
    .profile-name-section h1 {
        font-size: 24px;
    }
    
    .profile-stats-grid {
        gap: 20px;
    }
    
    .ficha-grid {
        grid-template-columns: 1fr;
    }
}
</style>
</head>

<body>

<!-- Login Screen -->
<div id="loginScreen" class="auth-container">
    <div class="auth-card">
        <h2>BEAMOVE</h2>
        <p style="margin-bottom: 30px; color: var(--text-secondary);">Fa√ßa login para continuar</p>
        <input type="email" id="loginEmail" placeholder="Seu email">
        <input type="password" id="loginPassword" placeholder="Sua senha">
        <button class="btn btn-primary" onclick="login()">Entrar</button>
        <button class="btn btn-secondary" onclick="showRegister()">Criar nova conta</button>
    </div>
</div>

<!-- Register Screen -->
<div id="registerScreen" class="auth-container hidden">
    <div class="auth-card">
        <h2>Criar Conta</h2>
        <p style="margin-bottom: 30px; color: var(--text-secondary);">Comece sua jornada fitness</p>
        <input type="text" id="username" placeholder="@usuario">
        <input type="email" id="registerEmail" placeholder="Email">
        <input type="password" id="registerPassword" placeholder="Senha">
        <button class="btn btn-primary" onclick="register()">Cadastrar</button>
        <button class="btn btn-secondary" onclick="showLogin()">Voltar ao login</button>
    </div>
</div>

<!-- Main App -->
<div id="appScreen" class="hidden">
    <header>
        <div class="header-content">
            <div class="logo">BEAMOVE</div>
            <div class="header-actions">
                <button class="icon-btn" onclick="toggleDark()">
                    <i data-lucide="moon"></i>
                </button>
                <button class="icon-btn" onclick="logout()">
                    <i data-lucide="log-out"></i>
                    <span>Sair</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Home Section -->
    <div id="home" class="container">
        <!-- Featured Product Card -->
        <div class="featured-card">
            <div>
                <h3>ü•ó Acompanhamento Nutricional</h3>
                <p>Planos personalizados com nutricionistas especializados</p>
                <div style="display: flex; gap: 15px;">
                    <button class="btn" onclick="window.open('https://hotmart.com', '_blank')">Comprar via Hotmart</button>
                    <button class="btn" onclick="window.open('https://kiwify.com', '_blank')">Comprar via Kiwify</button>
                </div>
            </div>
            <i data-lucide="apple" style="width: 80px; height: 80px; opacity: 0.5;"></i>
        </div>

        <!-- Products Grid -->
        <h2 class="section-title">
            <i data-lucide="package"></i>
            Nossos Produtos
        </h2>
        <div class="products-grid">
            <div class="product-card" onclick="window.open('https://hotmart.com', '_blank')">
                <div class="product-badge">Novo</div>
                <div class="product-icon">
                    <i data-lucide="activity"></i>
                </div>
                <h4>Yoga para Iniciantes</h4>
                <p>Curso completo de yoga para todos os n√≠veis</p>
                <div class="product-price">R$ 97,00</div>
            </div>

            <div class="product-card" onclick="window.open('https://hotmart.com', '_blank')">
                <div class="product-icon">
                    <i data-lucide="flame"></i>
                </div>
                <h4>Emagrecimento Total</h4>
                <p>Programa completo para queima de gordura</p>
                <div class="product-price">R$ 147,00</div>
            </div>

            <div class="product-card" onclick="window.open('https://kiwify.com', '_blank')">
                <div class="product-icon">
                    <i data-lucide="book-open"></i>
                </div>
                <h4>E-books Fitness</h4>
                <p>Guias pr√°ticos para sua transforma√ß√£o</p>
                <div class="product-price">R$ 37,00</div>
            </div>
        </div>

        <!-- Stories Click√°veis -->
        <h2 class="section-title">
            <i data-lucide="compass"></i>
            Explorar
        </h2>
        <div class="stories-grid">
            <div class="story-card" onclick="openContentModal('treino')">
                <div class="story-circle">üí™</div>
                <span class="story-label">Treinos</span>
            </div>
            <div class="story-card" onclick="openContentModal('receitas')">
                <div class="story-circle">ü•ó</div>
                <span class="story-label">Receitas</span>
            </div>
            <div class="story-card" onclick="openContentModal('yoga')">
                <div class="story-circle">üßò</div>
                <span class="story-label">Yoga</span>
            </div>
            <div class="story-card" onclick="openContentModal('dicas')">
                <div class="story-circle">üìö</div>
                <span class="story-label">Dicas</span>
            </div>
        </div>
    </div>

    <!-- Chat MSN Style -->
    <div id="chat" class="hidden chat-page">
        <div class="chat-msn-container">
            <div class="chat-msn-header">
                <i data-lucide="message-circle" size="18"></i>
                <h3>Chat da Comunidade</h3>
            </div>
            
            <div class="chat-msn-messages" id="chatBox"></div>
            
            <div class="chat-msn-input-area">
                <input type="text" id="chatInput" placeholder="Digite sua mensagem..." onkeypress="if(event.key === 'Enter') sendMessage()">
                <button onclick="sendMessage()">
                    <i data-lucide="send"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Evolu√ß√£o Section -->
    <div id="evolucao" class="hidden evolucao-page">
        <div class="evolucao-header">
            <h2>üìà Minha Evolu√ß√£o</h2>
            <p style="color: var(--text-secondary);">Compartilhe seu progresso com a comunidade</p>
        </div>
        
        <div class="create-evolucao">
            <textarea id="evolucaoInput" placeholder="Compartilhe sua evolu√ß√£o... (ex: Perdi 2kg essa semana! üí™)" rows="3"></textarea>
            <button class="btn btn-primary" onclick="addEvolucao()">Publicar Evolu√ß√£o</button>
        </div>
        
        <div id="evolucaoFeed" class="evolucao-feed"></div>
    </div>

    <!-- Profile Section -->
    <div id="profile" class="hidden profile-page">
        <div class="profile-header-card">
            <div class="profile-cover">
                <div class="profile-avatar-wrapper">
                    <div class="profile-avatar-large" id="profileAvatar"></div>
                </div>
            </div>
            
            <div class="profile-info-wrapper">
                <div class="profile-name-section">
                    <h1 id="profileUsername"></h1>
                    <button class="edit-profile-btn" onclick="toggleEditProfile()">
                        <i data-lucide="edit-2" size="16"></i>
                        Editar Perfil
                    </button>
                </div>
                
                <p class="profile-bio" id="profileBio"></p>
                
                <div class="profile-stats-grid">
                    <div class="stat-block">
                        <div class="stat-number" id="profileEvolucoes">0</div>
                        <div class="stat-label">Evolu√ß√µes</div>
                    </div>
                    <div class="stat-block">
                        <div class="stat-number" id="profileSeguidores">0</div>
                        <div class="stat-label">Seguidores</div>
                    </div>
                    <div class="stat-block">
                        <div class="stat-number" id="profileSeguindo">0</div>
                        <div class="stat-label">Seguindo</div>
                    </div>
                </div>
                
                <a id="profileLink" class="profile-link" target="_blank">
                    <i data-lucide="globe" size="16"></i>
                    website
                </a>
            </div>
        </div>

        <!-- Ficha do Usu√°rio -->
        <div class="user-ficha">
            <div class="ficha-title">
                <i data-lucide="clipboard-list"></i>
                <h3>Ficha de Cadastro</h3>
            </div>
            
            <div id="fichaDisplay" class="ficha-grid">
                <div class="ficha-item">
                    <label>Idade</label>
                    <div class="ficha-value" id="displayIdade">-</div>
                </div>
                <div class="ficha-item">
                    <label>Altura (cm)</label>
                    <div class="ficha-value" id="displayAltura">-</div>
                </div>
                <div class="ficha-item">
                    <label>Peso (kg)</label>
                    <div class="ficha-value" id="displayPeso">-</div>
                </div>
                <div class="ficha-item">
                    <label>Objetivo</label>
                    <div class="ficha-value" id="displayObjetivo">-</div>
                </div>
                <div class="ficha-item">
                    <label>N√≠vel</label>
                    <div class="ficha-value" id="displayNivel">-</div>
                </div>
                <div class="ficha-item">
                    <label>Frequ√™ncia</label>
                    <div class="ficha-value" id="displayFrequencia">-</div>
                </div>
            </div>
            
            <button class="edit-ficha-btn" onclick="toggleEditFicha()">
                <i data-lucide="edit-3" size="16"></i>
                Editar Ficha
            </button>
        </div>

        <!-- Edit Profile Form -->
        <div id="editProfileForm" class="edit-form hidden">
            <h3>Editar Perfil</h3>
            <input type="text" id="editName" placeholder="Nome de exibi√ß√£o">
            <textarea id="editBio" maxlength="200" placeholder="Bio (200 caracteres)"></textarea>
            <input type="url" id="editLink" placeholder="Link do seu site">
            <div class="btn-group">
                <button class="btn btn-primary" onclick="saveProfile()">Salvar</button>
                <button class="btn btn-secondary" onclick="toggleEditProfile()">Cancelar</button>
            </div>
        </div>

        <!-- Edit Ficha Form -->
        <div id="editFichaForm" class="edit-form hidden">
            <h3>Editar Ficha</h3>
            <input type="number" id="editIdade" placeholder="Idade">
            <input type="number" id="editAltura" placeholder="Altura (cm)">
            <input type="number" id="editPeso" placeholder="Peso (kg)">
            <select id="editObjetivo">
                <option value="">Selecione um objetivo</option>
                <option value="Emagrecimento">Emagrecimento</option>
                <option value="Hipertrofia">Hipertrofia</option>
                <option value="Defini√ß√£o">Defini√ß√£o</option>
                <option value="Sa√∫de">Sa√∫de</option>
                <option value="Performance">Performance</option>
            </select>
            <select id="editNivel">
                <option value="">Selecione seu n√≠vel</option>
                <option value="Iniciante">Iniciante</option>
                <option value="Intermedi√°rio">Intermedi√°rio</option>
                <option value="Avan√ßado">Avan√ßado</option>
            </select>
            <select id="editFrequencia">
                <option value="">Frequ√™ncia semanal</option>
                <option value="1-2x">1-2 vezes</option>
                <option value="3-4x">3-4 vezes</option>
                <option value="5-6x">5-6 vezes</option>
                <option value="Todos os dias">Todos os dias</option>
            </select>
            <div class="btn-group">
                <button class="btn btn-primary" onclick="saveFicha()">Salvar Ficha</button>
                <button class="btn btn-secondary" onclick="toggleEditFicha()">Cancelar</button>
            </div>
        </div>

        <!-- Progress Feed -->
        <div class="progress-feed">
            <h3 style="margin-bottom: 20px;">üìä Meu Progresso</h3>
            <div id="progressFeed"></div>
        </div>
    </div>

    <!-- Content Modal -->
    <div id="contentModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeContentModal()">
                <i data-lucide="x"></i>
            </button>
            <div id="modalContent"></div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="showTab('home')">
            <i data-lucide="home"></i>
            <span>In√≠cio</span>
        </div>
        <div class="nav-item" onclick="showTab('evolucao')">
            <i data-lucide="trending-up"></i>
            <span>Evolu√ß√£o</span>
        </div>
        <div class="nav-item" onclick="showTab('chat')">
            <i data-lucide="message-circle"></i>
            <span>Chat</span>
        </div>
        <div class="nav-item" onclick="showTab('profile')">
            <i data-lucide="user"></i>
            <span>Perfil</span>
        </div>
    </nav>
</div>

<script>
// Initialize Lucide icons
lucide.createIcons();

// Firebase Config
const firebaseConfig = {
    apiKey: "AIzaSyBdIH1kKv_e4f25nubgQ9ED8hyfl-3FmbM",
    authDomain: "beamove-pro.firebaseapp.com",
    projectId: "beamove-pro",
    storageBucket: "beamove-pro.firebasestorage.app",
    messagingSenderId: "816563837877",
    appId: "1:816563837877:web:7d812c57fecc0338f117fc"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Auth State Observer
auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('loginScreen').classList.add('hidden');
        document.getElementById('registerScreen').classList.add('hidden');
        document.getElementById('appScreen').classList.remove('hidden');
        
        loadChat();
        loadEvolucao();
        loadProfile();
        loadFicha();
        loadProgress();
    } else {
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('appScreen').classList.add('hidden');
    }
});

// Register
function register() {
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    
    if (!username.startsWith('@')) {
        alert('Username deve come√ßar com @');
        return;
    }
    
    db.collection('users').where('username', '==', username).get()
        .then(snapshot => {
            if (!snapshot.empty) {
                alert('Username j√° existe');
                return;
            }
            
            auth.createUserWithEmailAndPassword(email, password)
                .then(cred => {
                    return db.collection('users').doc(cred.user.uid).set({
                        username: username,
                        bio: 'Ol√°, estou usando BEAMOVE! üí™',
                        link: '',
                        name: username,
                        createdAt: new Date()
                    });
                })
                .then(() => {
                    showLogin();
                })
                .catch(error => {
                    alert(error.message);
                });
        });
}

// Login
function login() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    auth.signInWithEmailAndPassword(email, password)
        .catch(error => {
            alert(error.message);
        });
}

// Logout
function logout() {
    auth.signOut();
}

// Show Register Screen
function showRegister() {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('registerScreen').classList.remove('hidden');
}

// Show Login Screen
function showLogin() {
    document.getElementById('registerScreen').classList.add('hidden');
    document.getElementById('loginScreen').classList.remove('hidden');
}

// Toggle Dark Mode
function toggleDark() {
    document.body.classList.toggle('dark');
    lucide.createIcons();
}

// Show Tab
function showTab(tabName) {
    document.getElementById('home').classList.add('hidden');
    document.getElementById('chat').classList.add('hidden');
    document.getElementById('profile').classList.add('hidden');
    document.getElementById('evolucao').classList.add('hidden');
    
    document.getElementById(tabName).classList.remove('hidden');
    
    document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
    });
    event.currentTarget.classList.add('active');
    
    lucide.createIcons();
}

// Format Date
function formatDate(date) {
    if (!date) return '';
    const d = new Date(date.seconds * 1000);
    const now = new Date();
    const diff = now - d;
    
    if (diff < 60000) return 'Agora mesmo';
    if (diff < 3600000) return `${Math.floor(diff / 60000)} min atr√°s`;
    if (diff < 86400000) return `${Math.floor(diff / 3600000)} h atr√°s`;
    
    return d.toLocaleDateString('pt-BR');
}

// MSN Style Chat
function sendMessage() {
    const chatInput = document.getElementById('chatInput');
    const message = chatInput.value.trim();
    
    if (!message) return;
    
    db.collection('chat').add({
        text: message,
        user: auth.currentUser.uid,
        created: new Date()
    })
    .then(() => {
        chatInput.value = '';
    })
    .catch(error => {
        console.error('Erro ao enviar mensagem:', error);
        alert('Erro ao enviar mensagem. Tente novamente.');
    });
}

function loadChat() {
    db.collection('chat').orderBy('created')
        .onSnapshot(async snapshot => {
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = '';
            
            for (const doc of snapshot.docs) {
                const message = doc.data();
                const userDoc = await db.collection('users').doc(message.user).get();
                const userData = userDoc.data();
                
                const messageDiv = document.createElement('div');
                messageDiv.className = `msn-message ${message.user === auth.currentUser.uid ? 'sent' : ''}`;
                
                messageDiv.innerHTML = `
                    <div class="msn-avatar">${userData?.username?.charAt(1).toUpperCase() || '?'}</div>
                    <div class="msn-bubble">
                        <div class="msn-user">${userData?.username || 'Usu√°rio'}</div>
                        <div>${message.text}</div>
                        <span class="msn-time">${formatDate(message.created)}</span>
                    </div>
                `;
                
                chatBox.appendChild(messageDiv);
            }
            
            chatBox.scrollTop = chatBox.scrollHeight;
        }, error => {
            console.error('Erro ao carregar chat:', error);
        });
}

// Evolu√ß√£o Functions
function addEvolucao() {
    const evolucaoInput = document.getElementById('evolucaoInput');
    const text = evolucaoInput.value.trim();
    
    if (!text) return;
    
    db.collection('evolucoes').add({
        text: text,
        user: auth.currentUser.uid,
        created: new Date(),
        likes: 0,
        comments: 0
    })
    .then(() => {
        evolucaoInput.value = '';
    })
    .catch(error => {
        console.error('Erro ao publicar evolu√ß√£o:', error);
        alert('Erro ao publicar. Tente novamente.');
    });
}

function loadEvolucao() {
    db.collection('evolucoes').orderBy('created', 'desc')
        .onSnapshot(async snapshot => {
            const feed = document.getElementById('evolucaoFeed');
            feed.innerHTML = '';
            
            for (const doc of snapshot.docs) {
                const evolucao = doc.data();
                const userDoc = await db.collection('users').doc(evolucao.user).get();
                const userData = userDoc.data();
                
                const card = document.createElement('div');
                card.className = 'evolucao-card';
                card.innerHTML = `
                    <div class="evolucao-header-card">
                        <div class="evolucao-avatar">${userData?.username?.charAt(1).toUpperCase() || '?'}</div>
                        <div class="evolucao-info">
                            <h4>${userData?.username || 'Usu√°rio'}</h4>
                            <span>${formatDate(evolucao.created)}</span>
                        </div>
                    </div>
                    <div class="evolucao-text">${evolucao.text}</div>
                    <div class="evolucao-stats">
                        <span>‚ù§Ô∏è ${evolucao.likes || 0} curtidas</span>
                        <span>üí¨ ${evolucao.comments || 0} coment√°rios</span>
                    </div>
                `;
                
                feed.appendChild(card);
            }
        });
}

// Profile Functions
function loadProfile() {
    const user = auth.currentUser;
    
    db.collection('users').doc(user.uid).get()
        .then(doc => {
            const data = doc.data();
            document.getElementById('profileUsername').innerText = data.username || data.name;
            document.getElementById('profileBio').innerText = data.bio || 'Ol√°, estou usando BEAMOVE! üí™';
            document.getElementById('profileLink').innerText = data.link || 'Adicione seu link';
            document.getElementById('profileLink').href = data.link || '#';
            document.getElementById('profileAvatar').innerText = (data.username || 'U').charAt(1).toUpperCase();
            
            document.getElementById('editName').value = data.name || '';
            document.getElementById('editBio').value = data.bio || '';
            document.getElementById('editLink').value = data.link || '';
        });
    
    // Load stats
    loadProfileStats();
}

function loadProfileStats() {
    const user = auth.currentUser;
    
    db.collection('evolucoes').where('user', '==', user.uid).get()
        .then(snapshot => {
            document.getElementById('profileEvolucoes').innerText = snapshot.size;
        });
    
    document.getElementById('profileSeguidores').innerText = '128';
    document.getElementById('profileSeguindo').innerText = '56';
}

function toggleEditProfile() {
    const form = document.getElementById('editProfileForm');
    form.classList.toggle('hidden');
    lucide.createIcons();
}

function saveProfile() {
    const name = document.getElementById('editName').value;
    const bio = document.getElementById('editBio').value;
    const link = document.getElementById('editLink').value;
    
    db.collection('users').doc(auth.currentUser.uid).update({
        name: name,
        bio: bio,
        link: link
    })
    .then(() => {
        loadProfile();
        toggleEditProfile();
        alert('Perfil atualizado com sucesso!');
    })
    .catch(error => {
        alert('Erro ao atualizar perfil: ' + error.message);
    });
}

// Ficha Functions
function loadFicha() {
    const user = auth.currentUser;
    
    db.collection('fichas').doc(user.uid).get()
        .then(doc => {
            if (doc.exists) {
                const data = doc.data();
                document.getElementById('displayIdade').innerText = data.idade || '-';
                document.getElementById('displayAltura').innerText = data.altura || '-';
                document.getElementById('displayPeso').innerText = data.peso || '-';
                document.getElementById('displayObjetivo').innerText = data.objetivo || '-';
                document.getElementById('displayNivel').innerText = data.nivel || '-';
                document.getElementById('displayFrequencia').innerText = data.frequencia || '-';
                
                document.getElementById('editIdade').value = data.idade || '';
                document.getElementById('editAltura').value = data.altura || '';
                document.getElementById('editPeso').value = data.peso || '';
                document.getElementById('editObjetivo').value = data.objetivo || '';
                document.getElementById('editNivel').value = data.nivel || '';
                document.getElementById('editFrequencia').value = data.frequencia || '';
            }
        });
}

function toggleEditFicha() {
    const form = document.getElementById('editFichaForm');
    form.classList.toggle('hidden');
    lucide.createIcons();
}

function saveFicha() {
    const fichaData = {
        idade: document.getElementById('editIdade').value,
        altura: document.getElementById('editAltura').value,
        peso: document.getElementById('editPeso').value,
        objetivo: document.getElementById('editObjetivo').value,
        nivel: document.getElementById('editNivel').value,
        frequencia: document.getElementById('editFrequencia').value,
        updatedAt: new Date()
    };
    
    db.collection('fichas').doc(auth.currentUser.uid).set(fichaData)
        .then(() => {
            loadFicha();
            toggleEditFicha();
            
            // Create progress card
            createProgressCard(fichaData);
            
            alert('Ficha atualizada com sucesso!');
        })
        .catch(error => {
            alert('Erro ao salvar ficha: ' + error.message);
        });
}

function createProgressCard(fichaData) {
    const progressData = {
        user: auth.currentUser.uid,
        data: fichaData,
        created: new Date()
    };
    
    db.collection('progress').add(progressData);
}

function loadProgress() {
    const user = auth.currentUser;
    
    db.collection('progress')
        .where('user', '==', user.uid)
        .orderBy('created', 'desc')
        .limit(10)
        .onSnapshot(snapshot => {
            const feed = document.getElementById('progressFeed');
            feed.innerHTML = '';
            
            snapshot.forEach(doc => {
                const progress = doc.data();
                const data = progress.data;
                
                const card = document.createElement('div');
                card.className = 'progress-card';
                card.innerHTML = `
                    <div class="progress-header">
                        <span class="progress-title">üìä Atualiza√ß√£o de Progresso</span>
                        <span class="progress-date">${formatDate(progress.created)}</span>
                    </div>
                    <div class="progress-details">
                        <span class="progress-detail">‚öñÔ∏è Peso: ${data.peso || '-'}kg</span>
                        <span class="progress-detail">üìè Altura: ${data.altura || '-'}cm</span>
                        <span class="progress-detail">üéØ Objetivo: ${data.objetivo || '-'}</span>
                    </div>
                `;
                
                feed.appendChild(card);
            });
        });
}

// Content Modal Functions
function openContentModal(type) {
    const modal = document.getElementById('contentModal');
    const modalContent = document.getElementById('modalContent');
    
    const contents = {
        treino: {
            icon: 'üí™',
            title: 'Treinos',
            items: [
                { title: 'Treino A - Superior', description: 'Foco em peito, ombro e tr√≠ceps' },
                { title: 'Treino B - Inferior', description: 'Foco em pernas e gl√∫teos' },
                { title: 'Treino C - Costas', description: 'Foco em costas e b√≠ceps' },
                { title: 'Cardio', description: 'Treinos aer√≥bicos para queima de gordura' }
            ]
        },
        receitas: {
            icon: 'ü•ó',
            title: 'Receitas Saud√°veis',
            items: [
                { title: 'Overnight oats', description: 'Aveia durante a noite com frutas' },
                { title: 'Panqueca de banana', description: 'Panqueca proteica de banana e aveia' },
                { title: 'Shake p√≥s-treino', description: 'Vitamina de whey com frutas' },
                { title: 'Salada completa', description: 'Salada com prote√≠nas e carboidratos' }
            ]
        },
        yoga: {
            icon: 'üßò',
            title: 'Yoga e Medita√ß√£o',
            items: [
                { title: 'Yoga para Iniciantes', description: 'Sequ√™ncia b√°sica de posturas' },
                { title: 'Medita√ß√£o Guiada', description: '10 minutos de relaxamento' },
                { title: 'Alongamento Matinal', description: 'Desperte seu corpo com alongamentos' },
                { title: 'Respira√ß√£o Consciente', description: 'T√©cnicas de pranayama' }
            ]
        },
        dicas: {
            icon: 'üìö',
            title: 'Dicas Fitness',
            items: [
                { title: 'Dicas de Suplementa√ß√£o', description: 'Quando e como suplementar' },
                { title: 'Higiene do Sono', description: 'A import√¢ncia do descanso' },
                { title: 'Hidrata√ß√£o', description: 'Quanto beber de √°gua por dia' },
                { title: 'Les√µes Comuns', description: 'Como evitar e tratar' }
            ]
        }
    };
    
    const content = contents[type];
    
    modalContent.innerHTML = `
        <div class="modal-icon">${content.icon}</div>
        <h2>${content.title}</h2>
        <div class="content-list">
            ${content.items.map(item => `
                <div class="content-item" onclick="alert('Mais detalhes em breve!')">
                    <h4>${item.title}</h4>
                    <p>${item.description}</p>
                </div>
            `).join('')}
        </div>
    `;
    
    modal.classList.add('active');
    lucide.createIcons();
}

function closeContentModal() {
    document.getElementById('contentModal').classList.remove('active');
}
</script>
</body>
</html>
