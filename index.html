```html
<!DOCTYPE html>
<html lang="pt">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
<title>BEAMOVE ‚Ä¢ sua rede fitness</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-storage-compat.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Helvetica,Arial,sans-serif}
:root{
--offwhite:#F6F1EC;
--marrom:#6B4C3B;
--marrom-escuro:#3E2A22;
--rose:#C49A8A;
}
body{background:var(--offwhite);color:var(--marrom-escuro);min-height:100vh}
.hidden{display:none!important}
.btn{cursor:pointer;border:none;padding:12px 24px;border-radius:40px;background:var(--rose);color:white;font-weight:600;font-size:1rem;transition:.2s;margin:8px 0;width:100%}
.btn-outline{background:transparent;border:1px solid var(--rose);color:var(--marrom)}
input,textarea,select{width:100%;padding:12px 16px;margin:8px 0;border-radius:30px;border:1px solid var(--rose);background:white;font-size:1rem;outline:none}
.logo{font-size:2.5rem;font-weight:300}
.logo .bea{color:var(--marrom)}
.logo .move{color:var(--rose)}
.section{display:none;padding:20px 15px 80px}
.section.active{display:block}
.card{background:white;padding:20px;border-radius:24px;margin-bottom:20px;box-shadow:0 6px 18px rgba(0,0,0,0.05)}
.navbar{position:fixed;bottom:0;left:0;right:0;background:white;display:flex;justify-content:space-around;padding:12px 0;border-top:1px solid #eee;max-width:500px;margin:auto}
.nav-item{font-size:.75rem;text-align:center;color:var(--marrom);cursor:pointer;opacity:.6}
.nav-item.active{opacity:1;color:var(--rose)}
.nav-item i{display:block;font-size:1.6rem;margin-bottom:4px}
.app-container{max-width:500px;margin:auto;padding-bottom:80px}
.feed-img{width:100%;border-radius:16px;margin-bottom:10px}
.post-actions{display:flex;gap:15px;margin-top:10px;font-size:.9rem}
.post-actions span{cursor:pointer}
.conversation-item{display:flex;align-items:center;gap:12px;padding:12px;border-bottom:1px solid #eee;cursor:pointer}
.conversation-item img{width:45px;height:45px;border-radius:50%;object-fit:cover}
.badge{background:red;color:white;border-radius:20px;padding:2px 8px;font-size:.7rem;margin-left:auto}
.chat-container{display:flex;flex-direction:column;height:70vh}
.chat-messages{flex:1;overflow-y:auto;padding:10px;display:flex;flex-direction:column;gap:8px}
.message{display:flex}
.message.sent{justify-content:flex-end}
.message-text{max-width:75%;padding:10px 14px;border-radius:20px;background:var(--rose);color:white;font-size:.9rem}
.message.received .message-text{background:#eee;color:var(--marrom-escuro)}
.chat-input-area{display:flex;gap:10px}
.chat-input-area input{flex:1;margin:0}
</style>
</head>
<body>

<div id="authSection" style="max-width:400px;margin:auto;padding:40px;text-align:center">
<div class="logo"><span class="bea">BEA</span><span class="move">MOVE</span></div>
<input type="email" id="email" placeholder="Seu e-mail">
<input type="password" id="password" placeholder="Sua senha">
<div id="registerFields" class="hidden">
<input type="text" id="registerUsername" placeholder="@username">
<input type="text" id="registerName" placeholder="Nome de exibi√ß√£o">
<button class="btn" onclick="handleRegister()">Registrar</button>
</div>
<button class="btn" onclick="handleLogin()">Entrar</button>
<button class="btn btn-outline" onclick="toggleRegisterForm()">Criar conta</button>
<div id="loginError" style="color:red;margin-top:10px"></div>
</div>

<div id="app" class="app-container hidden">

<div id="inicio" class="section active">
<h2>Feed</h2>
<div id="feed"></div>
</div>

<div id="comunidade" class="section">
<h2>Comunidade</h2>
<div class="card">
<textarea id="communityText" placeholder="Compartilhe algo..."></textarea>
<button class="btn" onclick="postToCommunity()">Publicar</button>
</div>
<div id="communityPosts"></div>
</div>

<div id="chat" class="section">
<div id="conversationsView">
<h2>Conversas</h2>
<div id="conversationsList"></div>
</div>
<div id="chatView" class="hidden">
<button class="btn btn-outline" onclick="backToConversations()">‚Üê Voltar</button>
<div class="chat-container">
<div id="chatMessages" class="chat-messages"></div>
<div class="chat-input-area">
<input type="text" id="messageInput" placeholder="Mensagem..." onkeypress="if(event.key==='Enter') sendMessage()">
<button class="btn" style="width:auto" onclick="sendMessage()">Enviar</button>
</div>
</div>
</div>
</div>

<div class="navbar">
<div class="nav-item active" onclick="showSection('inicio')"><i>üè†</i>In√≠cio</div>
<div class="nav-item" onclick="showSection('comunidade')"><i>üë•</i>Comunidade</div>
<div class="nav-item" onclick="showSection('chat')"><i>üí¨</i>Chat</div>
</div>

</div>

<script>
const firebaseConfig={
apiKey:"AIzaSyBdIH1kKv_e4f25nubgQ9ED8hyfl-3FmbM",
authDomain:"beamove-pro.firebaseapp.com",
projectId:"beamove-pro",
storageBucket:"beamove-pro.firebasestorage.app",
messagingSenderId:"816563837877",
appId:"1:816563837877:web:7d812c57fecc0338f117fc"
};
firebase.initializeApp(firebaseConfig);
const auth=firebase.auth();
const db=firebase.firestore();

let currentUser=null;
let currentConversationId=null;
let unsubscribeChat=null;

function toggleRegisterForm(){
document.getElementById("registerFields").classList.toggle("hidden");
}

function handleLogin(){
auth.signInWithEmailAndPassword(email.value,password.value)
.catch(e=>loginError.innerText=e.message);
}

async function handleRegister(){
if(!registerUsername.value.startsWith("@")){loginError.innerText="Username deve come√ßar com @";return;}
const cred=await auth.createUserWithEmailAndPassword(email.value,password.value);
await db.collection("users").doc(cred.user.uid).set({
username:registerUsername.value,
displayName:registerName.value||registerUsername.value,
photoURL:"",
followers:0,following:0
});
}

auth.onAuthStateChanged(user=>{
if(user){
currentUser=user;
authSection.classList.add("hidden");
app.classList.remove("hidden");
loadFeed();
loadCommunityPosts();
loadConversations();
}else{
currentUser=null;
authSection.classList.remove("hidden");
app.classList.add("hidden");
}
});

function showSection(id){
document.querySelectorAll(".section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
document.querySelectorAll(".nav-item").forEach(n=>n.classList.remove("active"));
event.currentTarget.classList.add("active");
}

function loadFeed(){
db.collection("communityPosts").orderBy("createdAt","desc")
.onSnapshot(snapshot=>{
let html="";
snapshot.forEach(doc=>{
const post=doc.data();
html+=`
<div class="card">
<b>${post.username}</b>
<p>${post.text}</p>
<div class="post-actions">
<span onclick="likePost('${doc.id}')">‚ù§Ô∏è ${post.likes||0}</span>
<span onclick="startChat('${post.userId}')">üí¨</span>
</div>
</div>`;
});
feed.innerHTML=html||"<p>Nenhum post ainda.</p>";
});
}

async function postToCommunity(){
if(!communityText.value.trim())return;
const userDoc=await db.collection("users").doc(currentUser.uid).get();
await db.collection("communityPosts").add({
userId:currentUser.uid,
username:userDoc.data().username,
text:communityText.value,
likes:0,
likesBy:[],
createdAt:firebase.firestore.FieldValue.serverTimestamp()
});
communityText.value="";
}

async function likePost(postId){
const ref=db.collection("communityPosts").doc(postId);
const doc=await ref.get();
const data=doc.data();
if(data.likesBy && data.likesBy.includes(currentUser.uid))return;
await ref.update({
likes:firebase.firestore.FieldValue.increment(1),
likesBy:firebase.firestore.FieldValue.arrayUnion(currentUser.uid)
});
}

function loadCommunityPosts(){
loadFeed();
}

function loadConversations(){
db.collection("conversations")
.where("participants","array-contains",currentUser.uid)
.orderBy("updatedAt","desc")
.onSnapshot(snapshot=>{
let html="";
snapshot.forEach(doc=>{
const conv=doc.data();
const other=conv.participants.find(p=>p!==currentUser.uid);
html+=`
<div class="conversation-item" onclick="openChat('${doc.id}')">
<div>${conv.lastMessage||"Nova conversa"}</div>
${conv.unread && conv.unread[currentUser.uid]?`<div class="badge">${conv.unread[currentUser.uid]}</div>`:""}
</div>`;
});
conversationsList.innerHTML=html||"<p>Nenhuma conversa.</p>";
});
}

async function startChat(otherUserId){
const id=[currentUser.uid,otherUserId].sort().join("_");
const ref=db.collection("conversations").doc(id);
const doc=await ref.get();
if(!doc.exists){
await ref.set({
participants:[currentUser.uid,otherUserId],
lastMessage:"",
updatedAt:firebase.firestore.FieldValue.serverTimestamp(),
unread:{}
});
}
openChat(id);
showSection("chat");
}

function openChat(id){
currentConversationId=id;
conversationsView.classList.add("hidden");
chatView.classList.remove("hidden");
if(unsubscribeChat)unsubscribeChat();
unsubscribeChat=db.collection("conversations").doc(id)
.collection("messages").orderBy("createdAt")
.onSnapshot(snapshot=>{
let html="";
snapshot.forEach(doc=>{
const msg=doc.data();
html+=`
<div class="message ${msg.senderId===currentUser.uid?"sent":"received"}">
<div class="message-text">${msg.text}</div>
</div>`;
});
chatMessages.innerHTML=html;
chatMessages.scrollTop=chatMessages.scrollHeight;
});
}

async function sendMessage(){
if(!messageInput.value.trim())return;
const ref=db.collection("conversations").doc(currentConversationId);
await ref.collection("messages").add({
text:messageInput.value,
senderId:currentUser.uid,
createdAt:firebase.firestore.FieldValue.serverTimestamp()
});
await ref.update({
lastMessage:messageInput.value,
updatedAt:firebase.firestore.FieldValue.serverTimestamp()
});
messageInput.value="";
}

function backToConversations(){
chatView.classList.add("hidden");
conversationsView.classList.remove("hidden");
}

console.log("üöÄ BEAMOVE NOVA VERS√ÉO PROFISSIONAL ATIVA");
</script>

</body>
</html>
```
