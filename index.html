<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>BEAMOVE ‚Ä¢ Sua Jornada Fitness</title>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>

<!-- Icons -->
<script src="https://unpkg.com/lucide@latest"></script>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --bg-primary: #f8fafc;
    --bg-secondary: #ffffff;
    --text-primary: #0f172a;
    --text-secondary: #475569;
    --accent: #8b5cf6;
    --accent-light: #a78bfa;
    --accent-gradient: linear-gradient(135deg, #8b5cf6 0%, #c084fc 100%);
    --success: #10b981;
    --warning: #f59e0b;
    --danger: #ef4444;
    --border: #e2e8f0;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1);
    --hover-shadow: 0 20px 60px -10px rgba(139, 92, 246, 0.3);
    --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    --glass-bg: rgba(255, 255, 255, 0.25);
    --glass-border: rgba(255, 255, 255, 0.18);
    --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
    --bg-secondary-rgb: 255, 255, 255;
}

.dark {
    --bg-primary: #0f172a;
    --bg-secondary: #1e293b;
    --text-primary: #f1f5f9;
    --text-secondary: #94a3b8;
    --border: #334155;
    --card-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.5);
    --glass-bg: rgba(30, 41, 59, 0.25);
    --glass-border: rgba(255, 255, 255, 0.08);
    --bg-secondary-rgb: 30, 41, 59;
}

body {
    font-family: 'Inter', sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    transition: var(--transition);
    line-height: 1.6;
    min-height: 100vh;
    position: relative;
}

/* Glassmorphism Effect */
.glass {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
}

/* Auth Styles */
.auth-container {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-gradient);
    padding: 20px;
    position: relative;
    overflow: hidden;
}

.auth-container::before {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    background: repeating-linear-gradient(
        45deg,
        rgba(255,255,255,0.1) 0px,
        rgba(255,255,255,0.1) 20px,
        transparent 20px,
        transparent 40px
    );
    animation: moveBackground 20s linear infinite;
}

@keyframes moveBackground {
    0% { transform: translate(-50%, -50%) rotate(0deg); }
    100% { transform: translate(-50%, -50%) rotate(360deg); }
}

.auth-card {
    background: var(--glass-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    padding: 40px;
    border-radius: 30px;
    width: 100%;
    max-width: 400px;
    box-shadow: var(--glass-shadow);
    animation: slideUp 0.5s ease;
    position: relative;
    z-index: 1;
    border: 1px solid var(--glass-border);
}

/* Header */
header {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    padding: 15px 20px;
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 1px solid var(--glass-border);
}

.header-content {
    max-width: 1200px;
    margin: 0 auto;
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.logo {
    font-size: 24px;
    font-weight: 800;
    background: var(--accent-gradient);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: -0.5px;
}

.header-actions {
    display: flex;
    gap: 10px;
}

.icon-btn {
    background: var(--glass-bg);
    backdrop-filter: blur(4px);
    border: 1px solid var(--glass-border);
    color: var(--text-primary);
    cursor: pointer;
    padding: 8px 15px;
    border-radius: 50px;
    transition: var(--transition);
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 14px;
}

.icon-btn:hover {
    background: var(--accent);
    color: white;
    transform: translateY(-2px);
}

/* Main Container */
.main-container {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 20px;
    padding-bottom: 80px;
}

/* Stories Grid */
.stories-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-bottom: 30px;
}

.story-card {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px;
    text-align: center;
    cursor: pointer;
    transition: var(--transition);
    animation: fadeIn 0.5s ease;
}

.story-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
    background: var(--accent-gradient);
    color: white;
}

.story-icon {
    font-size: 32px;
    margin-bottom: 10px;
}

.story-card h3 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 5px;
}

.story-card p {
    font-size: 12px;
    opacity: 0.8;
}

/* Category Pages */
.category-page {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: var(--bg-primary);
    z-index: 1000;
    overflow-y: auto;
    padding: 20px;
    padding-top: 80px;
    animation: slideIn 0.3s ease;
}

@keyframes slideIn {
    from { transform: translateX(100%); }
    to { transform: translateX(0); }
}

.category-header {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 30px;
}

.back-btn {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 50px;
    padding: 10px 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: var(--transition);
}

.back-btn:hover {
    background: var(--accent);
    color: white;
}

.category-content {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

.info-card {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 25px;
    transition: var(--transition);
}

.info-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--hover-shadow);
}

.info-card h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    font-size: 18px;
}

.info-list {
    list-style: none;
}

.info-list li {
    padding: 10px 0;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    gap: 10px;
}

.info-list li:last-child {
    border-bottom: none;
}

/* Products Section */
.products-section {
    margin: 30px 0;
}

.section-title {
    font-size: 20px;
    font-weight: 700;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.featured-card {
    background: var(--accent-gradient);
    border-radius: 25px;
    padding: 25px;
    color: white;
    margin-bottom: 25px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 20px;
    animation: pulse 2s infinite;
}

.products-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
}

.product-card {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px;
    transition: var(--transition);
    cursor: pointer;
    position: relative;
}

.product-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--hover-shadow);
}

/* Evolution Section */
.evolution-section {
    margin: 30px 0;
}

.create-evolution {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px;
    margin-bottom: 25px;
}

.create-evolution textarea {
    width: 100%;
    padding: 15px;
    border: 2px solid var(--border);
    border-radius: 15px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    resize: none;
    margin-bottom: 15px;
    font-family: 'Inter', sans-serif;
}

.evolution-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px;
}

.evolution-card {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px;
    transition: var(--transition);
    animation: fadeIn 0.5s ease;
}

.evolution-header {
    display: flex;
    align-items: center;
    gap: 12px;
    margin-bottom: 15px;
}

.evolution-avatar {
    width: 45px;
    height: 45px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 18px;
}

.evolution-info h4 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 4px;
}

.evolution-date {
    font-size: 12px;
    color: var(--text-secondary);
}

.evolution-content {
    margin-bottom: 15px;
    line-height: 1.6;
}

.evolution-stats {
    display: flex;
    gap: 15px;
    padding-top: 15px;
    border-top: 1px solid var(--border);
}

.stat-badge {
    background: var(--bg-primary);
    padding: 5px 12px;
    border-radius: 50px;
    font-size: 12px;
    font-weight: 600;
    color: var(--accent);
}

/* Chat Section */
.chat-section {
    margin: 20px 0;
    height: calc(100vh - 200px);
    min-height: 500px;
    position: relative;
}

.chat-container {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 25px;
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    box-shadow: var(--glass-shadow);
}

.chat-messages {
    flex: 1;
    overflow-y: auto;
    padding: 20px;
    display: flex;
    flex-direction: column;
    gap: 15px;
}

.message {
    display: flex;
    align-items: flex-start;
    gap: 10px;
    max-width: 80%;
    animation: messagePop 0.3s ease;
}

@keyframes messagePop {
    from {
        opacity: 0;
        transform: translateY(10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.message.sent {
    align-self: flex-end;
    flex-direction: row-reverse;
}

.message-avatar {
    width: 35px;
    height: 35px;
    border-radius: 50%;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 14px;
    font-weight: 600;
    flex-shrink: 0;
}

.message-content {
    background: var(--bg-secondary);
    padding: 12px 15px;
    border-radius: 20px;
    border: 1px solid var(--border);
    position: relative;
    word-break: break-word;
}

.message.sent .message-content {
    background: var(--accent-gradient);
    color: white;
}

.message-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 15px;
    margin-bottom: 5px;
    font-size: 12px;
}

.message-author {
    font-weight: 600;
}

.message-time {
    font-size: 10px;
    opacity: 0.7;
}

.chat-input-area {
    padding: 20px;
    border-top: 1px solid var(--border);
    display: flex;
    gap: 10px;
    background: var(--glass-bg);
}

.chat-input-area input {
    flex: 1;
    padding: 15px;
    border: 2px solid var(--border);
    border-radius: 25px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 16px;
    transition: var(--transition);
}

.chat-input-area input:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.chat-input-area button {
    width: 50px;
    height: 50px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: none;
    color: white;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: var(--transition);
}

.chat-input-area button:hover {
    transform: scale(1.1);
}

/* Profile Section */
.profile-section {
    margin: 20px 0;
}

.profile-glass {
    background: var(--glass-bg);
    backdrop-filter: blur(8px);
    border: 1px solid var(--glass-border);
    border-radius: 30px;
    overflow: hidden;
    box-shadow: var(--glass-shadow);
}

.profile-cover {
    height: 150px;
    background: var(--accent-gradient);
    position: relative;
}

.profile-avatar-large {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: var(--accent-gradient);
    border: 4px solid var(--bg-secondary);
    position: absolute;
    bottom: -50px;
    left: 30px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-size: 40px;
    font-weight: 700;
    box-shadow: var(--card-shadow);
}

.profile-info {
    padding: 60px 30px 30px 30px;
}

.profile-name-section {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 20px;
}

.profile-name {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 5px;
}

.profile-username {
    color: var(--text-secondary);
    margin-bottom: 15px;
}

.profile-stats {
    display: flex;
    gap: 30px;
    margin: 20px 0;
}

.stat-item {
    text-align: center;
}

.stat-value {
    font-size: 24px;
    font-weight: 700;
    color: var(--accent);
}

.stat-label {
    font-size: 12px;
    color: var(--text-secondary);
}

.profile-bio {
    margin: 20px 0;
    line-height: 1.6;
}

.profile-link {
    color: var(--accent);
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 20px;
}

.profile-link:hover {
    text-decoration: underline;
}

.profile-edit-btn {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    border-radius: 50px;
    padding: 12px 24px;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: var(--transition);
    font-weight: 600;
}

.profile-edit-btn:hover {
    background: var(--accent);
    color: white;
}

/* Registration Form */
.registration-form {
    padding: 30px;
    border-top: 1px solid var(--border);
    animation: slideDown 0.3s ease;
}

.registration-form h3 {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 20px;
    font-size: 18px;
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 20px;
}

.form-group {
    margin-bottom: 15px;
}

.form-group label {
    display: block;
    margin-bottom: 5px;
    font-weight: 500;
    font-size: 14px;
}

.form-group input,
.form-group select,
.form-group textarea {
    width: 100%;
    padding: 12px;
    border: 2px solid var(--border);
    border-radius: 12px;
    background: var(--bg-primary);
    color: var(--text-primary);
    font-size: 14px;
    transition: var(--transition);
}

.form-group input:focus,
.form-group select:focus,
.form-group textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

/* Progress Cards */
.progress-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.progress-card {
    background: var(--glass-bg);
    backdrop-filter: blur(4px);
    border: 1px solid var(--glass-border);
    border-radius: 20px;
    padding: 20px;
    transition: var(--transition);
}

.progress-card:hover {
    transform: translateY(-3px);
    box-shadow: var(--hover-shadow);
}

.progress-header {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
}

.progress-icon {
    width: 40px;
    height: 40px;
    border-radius: 12px;
    background: var(--accent-gradient);
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
}

.progress-title {
    font-weight: 600;
    font-size: 16px;
}

.progress-date {
    font-size: 12px;
    color: var(--text-secondary);
}

.progress-content {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

.progress-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 14px;
}

.progress-label {
    color: var(--text-secondary);
}

.progress-value {
    font-weight: 600;
    color: var(--accent);
}

/* Bottom Navigation */
.bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: var(--glass-bg);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    padding: 12px 20px;
    display: flex;
    justify-content: space-around;
    align-items: center;
    border-top: 1px solid var(--glass-border);
    z-index: 99;
}

.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 4px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: var(--transition);
    padding: 8px 16px;
    border-radius: 50px;
    background: transparent;
}

.nav-item.active {
    color: var(--accent);
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
}

.nav-item i {
    font-size: 20px;
}

.nav-item span {
    font-size: 11px;
    font-weight: 500;
}

/* Utils */
.hidden {
    display: none !important;
}

.btn {
    padding: 12px 24px;
    border: none;
    border-radius: 50px;
    font-weight: 600;
    cursor: pointer;
    transition: var(--transition);
    font-size: 14px;
}

.btn-primary {
    background: var(--accent-gradient);
    color: white;
}

.btn-primary:hover {
    transform: translateY(-2px);
    box-shadow: var(--hover-shadow);
}

.btn-secondary {
    background: var(--glass-bg);
    border: 1px solid var(--glass-border);
    color: var(--text-primary);
}

.btn-secondary:hover {
    background: var(--accent);
    color: white;
}

/* Responsive */
@media (max-width: 768px) {
    .stories-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .profile-name-section {
        flex-direction: column;
        gap: 15px;
    }
    
    .profile-avatar-large {
        left: 20px;
        width: 80px;
        height: 80px;
        font-size: 32px;
    }
    
    .profile-info {
        padding: 50px 20px 20px;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .message {
        max-width: 90%;
    }
}
</style>
</head>

<body>

<!-- Login Screen -->
<div id="loginScreen" class="auth-container">
    <div class="auth-card glass">
        <h2 style="font-size: 36px; margin-bottom: 10px;">BEAMOVE</h2>
        <p style="margin-bottom: 30px; opacity: 0.9;">Sua jornada fitness come√ßa aqui</p>
        <input type="email" id="loginEmail" placeholder="Seu email" style="width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 15px; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(4px);">
        <input type="password" id="loginPassword" placeholder="Sua senha" style="width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 15px; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(4px);">
        <button class="btn btn-primary" onclick="login()" style="width: 100%; margin: 10px 0;">Entrar</button>
        <button class="btn btn-secondary" onclick="showRegister()" style="width: 100%;">Criar nova conta</button>
    </div>
</div>

<!-- Register Screen -->
<div id="registerScreen" class="auth-container hidden">
    <div class="auth-card glass">
        <h2 style="font-size: 36px; margin-bottom: 10px;">Criar Conta</h2>
        <p style="margin-bottom: 30px; opacity: 0.9;">Comece sua jornada fitness</p>
        <input type="text" id="username" placeholder="@usuario" style="width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 15px; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(4px);">
        <input type="email" id="registerEmail" placeholder="Email" style="width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 15px; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(4px);">
        <input type="password" id="registerPassword" placeholder="Senha" style="width: 100%; padding: 15px; margin: 10px 0; border: none; border-radius: 15px; background: rgba(255,255,255,0.2); color: white; backdrop-filter: blur(4px);">
        <button class="btn btn-primary" onclick="register()" style="width: 100%; margin: 10px 0;">Cadastrar</button>
        <button class="btn btn-secondary" onclick="showLogin()" style="width: 100%;">Voltar ao login</button>
    </div>
</div>

<!-- Main App -->
<div id="appScreen" class="hidden">
    <header>
        <div class="header-content">
            <div class="logo">BEAMOVE</div>
            <div class="header-actions">
                <button class="icon-btn" onclick="toggleDark()">
                    <i data-lucide="moon"></i>
                </button>
                <button class="icon-btn" onclick="logout()">
                    <i data-lucide="log-out"></i>
                    <span>Sair</span>
                </button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <!-- Home Section -->
        <div id="home">
            <!-- Stories -->
            <div class="stories-grid">
                <div class="story-card" onclick="openCategory('treino')">
                    <div class="story-icon">üí™</div>
                    <h3>Treinos</h3>
                    <p>Exerc√≠cios e rotinas</p>
                </div>
                <div class="story-card" onclick="openCategory('receitas')">
                    <div class="story-icon">ü•ó</div>
                    <h3>Receitas</h3>
                    <p>Comidas saud√°veis</p>
                </div>
                <div class="story-card" onclick="openCategory('yoga')">
                    <div class="story-icon">üßò</div>
                    <h3>Yoga</h3>
                    <p>Equil√≠brio e flexibilidade</p>
                </div>
                <div class="story-card" onclick="openCategory('dicas')">
                    <div class="story-icon">üìö</div>
                    <h3>Dicas</h3>
                    <p>Sa√∫de e bem-estar</p>
                </div>
            </div>

            <!-- Featured Product Card -->
            <div class="featured-card">
                <div>
                    <h3 style="font-size: 24px;">ü•ó Acompanhamento Nutricional</h3>
                    <p style="margin-bottom: 20px;">Planos personalizados com nutricionistas especializados</p>
                    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
                        <button class="btn" onclick="window.open('https://hotmart.com', '_blank')" style="background: white; color: var(--accent);">Comprar via Hotmart</button>
                        <button class="btn" onclick="window.open('https://kiwify.com', '_blank')" style="background: white; color: var(--accent);">Comprar via Kiwify</button>
                    </div>
                </div>
                <i data-lucide="apple" style="width: 60px; height: 60px; opacity: 0.5;"></i>
            </div>

            <!-- Products Grid -->
            <div class="products-section">
                <h2 class="section-title">
                    <i data-lucide="package"></i>
                    Nossos Produtos
                </h2>
                <div class="products-grid">
                    <div class="product-card">
                        <div style="position: absolute; top: 15px; right: 15px; background: var(--success); color: white; padding: 4px 12px; border-radius: 50px; font-size: 11px;">Novo</div>
                        <div style="width: 50px; height: 50px; background: var(--accent-gradient); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: white;">
                            <i data-lucide="activity"></i>
                        </div>
                        <h4 style="margin-bottom: 10px;">Yoga para Iniciantes</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 14px;">Curso completo de yoga para todos os n√≠veis</p>
                        <div style="font-size: 22px; font-weight: 700; color: var(--accent); margin-bottom: 15px;">R$ 97,00</div>
                        <button class="btn btn-primary" onclick="window.open('https://hotmart.com', '_blank')" style="width: 100%;">Comprar</button>
                    </div>

                    <div class="product-card">
                        <div style="width: 50px; height: 50px; background: var(--accent-gradient); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: white;">
                            <i data-lucide="flame"></i>
                        </div>
                        <h4 style="margin-bottom: 10px;">Emagrecimento Total</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 14px;">Programa completo para queima de gordura</p>
                        <div style="font-size: 22px; font-weight: 700; color: var(--accent); margin-bottom: 15px;">R$ 147,00</div>
                        <button class="btn btn-primary" onclick="window.open('https://hotmart.com', '_blank')" style="width: 100%;">Comprar</button>
                    </div>

                    <div class="product-card">
                        <div style="width: 50px; height: 50px; background: var(--accent-gradient); border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 15px; color: white;">
                            <i data-lucide="book-open"></i>
                        </div>
                        <h4 style="margin-bottom: 10px;">E-books Fitness</h4>
                        <p style="color: var(--text-secondary); margin-bottom: 15px; font-size: 14px;">Guias pr√°ticos para sua transforma√ß√£o</p>
                        <div style="font-size: 22px; font-weight: 700; color: var(--accent); margin-bottom: 15px;">R$ 37,00</div>
                        <button class="btn btn-primary" onclick="window.open('https://kiwify.com', '_blank')" style="width: 100%;">Comprar</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Evolution Section -->
        <div id="evolution" class="hidden">
            <div class="evolution-section">
                <div class="create-evolution">
                    <h3 style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                        <i data-lucide="trending-up"></i>
                        Compartilhe sua Evolu√ß√£o
                    </h3>
                    <textarea id="evolutionInput" placeholder="Compartilhe seu progresso, conquistas ou desafios... (ex: hoje consegui fazer 10 flex√µes!)" rows="3"></textarea>
                    <button class="btn btn-primary" onclick="addEvolution()" style="width: 100%;">Publicar Evolu√ß√£o</button>
                </div>
                <div id="evolutionFeed" class="evolution-grid"></div>
            </div>
        </div>

        <!-- Chat Section -->
        <div id="chat" class="hidden">
            <div class="chat-section">
                <div class="chat-container">
                    <div class="chat-messages" id="chatBox"></div>
                    <div class="chat-input-area">
                        <input type="text" id="chatInput" placeholder="Digite sua mensagem..." autocomplete="off">
                        <button onclick="sendMessage()">
                            <i data-lucide="send"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Profile Section -->
        <div id="profile" class="hidden">
            <div class="profile-section">
                <div class="profile-glass">
                    <div class="profile-cover"></div>
                    <div class="profile-avatar-large" id="profileAvatar"></div>
                    
                    <div class="profile-info">
                        <div class="profile-name-section">
                            <div>
                                <h1 class="profile-name" id="profileUsername"></h1>
                                <div class="profile-username" id="profileUserHandle"></div>
                            </div>
                            <button class="profile-edit-btn" onclick="toggleEditProfile()">
                                <i data-lucide="edit-2"></i>
                                Editar Perfil
                            </button>
                        </div>
                        
                        <div class="profile-stats">
                            <div class="stat-item">
                                <div class="stat-value" id="profilePosts">0</div>
                                <div class="stat-label">Posts</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="profileFollowers">128</div>
                                <div class="stat-label">Seguidores</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value" id="profileFollowing">56</div>
                                <div class="stat-label">Seguindo</div>
                            </div>
                        </div>
                        
                        <div class="profile-bio" id="profileBio">
                            Ol√°, estou usando BEAMOVE! üí™
                        </div>
                        
                        <a class="profile-link" id="profileLink" target="_blank">
                            <i data-lucide="globe"></i>
                            <span>Adicione seu link</span>
                        </a>
                    </div>

                    <!-- Registration Form -->
                    <div id="registrationForm" class="registration-form hidden">
                        <h3>
                            <i data-lucide="clipboard-list"></i>
                            Ficha de Cadastro
                        </h3>
                        <div class="form-grid">
                            <div class="form-group">
                                <label>Data de Nascimento</label>
                                <input type="date" id="userBirthDate">
                            </div>
                            <div class="form-group">
                                <label>Altura (cm)</label>
                                <input type="number" id="userHeight" placeholder="Ex: 170">
                            </div>
                            <div class="form-group">
                                <label>Peso (kg)</label>
                                <input type="number" id="userWeight" placeholder="Ex: 70" step="0.1">
                            </div>
                            <div class="form-group">
                                <label>Objetivo Principal</label>
                                <select id="userGoal">
                                    <option value="emagrecer">Emagrecer</option>
                                    <option value="ganharMassa">Ganhar Massa</option>
                                    <option value="definir">Definir</option>
                                    <option value="saude">Sa√∫de</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>N√≠vel de Atividade</label>
                                <select id="userActivity">
                                    <option value="sedentario">Sedent√°rio</option>
                                    <option value="leve">Levemente Ativo</option>
                                    <option value="moderado">Moderadamente Ativo</option>
                                    <option value="intenso">Intensamente Ativo</option>
                                </select>
                            </div>
                        </div>
                        <button class="btn btn-primary" onclick="saveUserMetrics()">Salvar Ficha</button>
                    </div>

                    <!-- Progress Cards -->
                    <div id="progressCards" class="progress-grid" style="padding: 30px;"></div>
                </div>

                <!-- Edit Profile Form -->
                <div id="editProfileForm" class="profile-glass hidden" style="margin-top: 20px; padding: 30px;">
                    <h3 style="margin-bottom: 20px; display: flex; align-items: center; gap: 10px;">
                        <i data-lucide="settings"></i>
                        Editar Perfil
                    </h3>
                    <input type="text" id="editName" placeholder="Seu nome" style="width: 100%; padding: 15px; margin: 10px 0; border: 2px solid var(--border); border-radius: 12px; background: var(--bg-primary); color: var(--text-primary);">
                    <textarea id="editBio" maxlength="200" placeholder="Bio (200 caracteres)" style="width: 100%; padding: 15px; margin: 10px 0; border: 2px solid var(--border); border-radius: 12px; background: var(--bg-primary); color: var(--text-primary); min-height: 100px;"></textarea>
                    <input type="text" id="editLink" placeholder="Link do seu site" style="width: 100%; padding: 15px; margin: 10px 0; border: 2px solid var(--border); border-radius: 12px; background: var(--bg-primary); color: var(--text-primary);">
                    <button class="btn btn-primary" onclick="saveProfile()" style="margin-right: 10px;">Salvar Altera√ß√µes</button>
                    <button class="btn btn-secondary" onclick="toggleEditProfile()">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav">
        <div class="nav-item active" onclick="showTab('home')">
            <i data-lucide="home"></i>
            <span>In√≠cio</span>
        </div>
        <div class="nav-item" onclick="showTab('evolution')">
            <i data-lucide="trending-up"></i>
            <span>Evolu√ß√£o</span>
        </div>
        <div class="nav-item" onclick="showTab('chat')">
            <i data-lucide="message-circle"></i>
            <span>Chat</span>
        </div>
        <div class="nav-item" onclick="showTab('profile')">
            <i data-lucide="user"></i>
            <span>Perfil</span>
        </div>
    </nav>
</div>

<!-- Category Pages -->
<div id="treinoPage" class="category-page hidden">
    <div class="category-header">
        <button class="back-btn" onclick="closeCategory()">
            <i data-lucide="arrow-left"></i>
            Voltar
        </button>
        <h2>üí™ Treinos</h2>
    </div>
    <div class="category-content">
        <div class="info-card">
            <h3><i data-lucide="calendar"></i> Rotina Semanal</h3>
            <ul class="info-list">
                <li>Segunda: Peito e Tr√≠ceps</li>
                <li>Ter√ßa: Costas e B√≠ceps</li>
                <li>Quarta: Pernas e Gl√∫teos</li>
                <li>Quinta: Ombro e Trap√©zio</li>
                <li>Sexta: Cardio e Abd√¥men</li>
                <li>S√°bado: Treino Funcional</li>
                <li>Domingo: Descanso</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="dumbbell"></i> Exerc√≠cios B√°sicos</h3>
            <ul class="info-list">
                <li>Supino reto - 4x12</li>
                <li>Puxada frontal - 4x12</li>
                <li>Agachamento - 4x15</li>
                <li>Desenvolvimento - 4x12</li>
                <li>Rosca direta - 3x15</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="clock"></i> Dicas de Treino</h3>
            <ul class="info-list">
                <li>Sempre fa√ßa aquecimento</li>
                <li>Mantenha a postura correta</li>
                <li>Respeite seus limites</li>
                <li>Hidrate-se durante o treino</li>
                <li>Descanse entre as s√©ries</li>
            </ul>
        </div>
    </div>
</div>

<div id="receitasPage" class="category-page hidden">
    <div class="category-header">
        <button class="back-btn" onclick="closeCategory()">
            <i data-lucide="arrow-left"></i>
            Voltar
        </button>
        <h2>ü•ó Receitas</h2>
    </div>
    <div class="category-content">
        <div class="info-card">
            <h3><i data-lucide="coffee"></i> Caf√© da Manh√£</h3>
            <ul class="info-list">
                <li>Overnight oats com frutas</li>
                <li>Panqueca de banana e aveia</li>
                <li>Smoothie bowl proteico</li>
                <li>Ovos mexidos com abacate</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="utensils"></i> Almo√ßo</h3>
            <ul class="info-list">
                <li>Frango grelhado com quinoa</li>
                <li>Salm√£o com batata doce</li>
                <li>Stir fry de legumes com tofu</li>
                <li>Salada completa com prote√≠na</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="moon"></i> Jantar</h3>
            <ul class="info-list">
                <li>Sopa de legumes com frango</li>
                <li>Omelete de claras com espinafre</li>
                <li>Wrap integral de atum</li>
                <li>Crepioca com queijo cottage</li>
            </ul>
        </div>
    </div>
</div>

<div id="yogaPage" class="category-page hidden">
    <div class="category-header">
        <button class="back-btn" onclick="closeCategory()">
            <i data-lucide="arrow-left"></i>
            Voltar
        </button>
        <h2>üßò Yoga</h2>
    </div>
    <div class="category-content">
        <div class="info-card">
            <h3><i data-lucide="sun"></i> Posturas B√°sicas</h3>
            <ul class="info-list">
                <li>Adho Mukha Svanasana (Cachorro)</li>
                <li>Tadasana (Montanha)</li>
                <li>Vrikshasana (√Årvore)</li>
                <li>Balasana (Crian√ßa)</li>
                <li>Trikonasana (Tri√¢ngulo)</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="wind"></i> Benef√≠cios</h3>
            <ul class="info-list">
                <li>Redu√ß√£o do estresse</li>
                <li>Aumento da flexibilidade</li>
                <li>Melhora da postura</li>
                <li>Fortalecimento muscular</li>
                <li>Equil√≠brio emocional</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="heart"></i> Medita√ß√£o</h3>
            <ul class="info-list">
                <li>Medita√ß√£o guiada 5min</li>
                <li>Respira√ß√£o consciente</li>
                <li>Mindfulness no dia a dia</li>
                <li>Yoga Nidra para relaxar</li>
            </ul>
        </div>
    </div>
</div>

<div id="dicasPage" class="category-page hidden">
    <div class="category-header">
        <button class="back-btn" onclick="closeCategory()">
            <i data-lucide="arrow-left"></i>
            Voltar
        </button>
        <h2>üìö Dicas</h2>
    </div>
    <div class="category-content">
        <div class="info-card">
            <h3><i data-lucide="droplet"></i> Hidrata√ß√£o</h3>
            <ul class="info-list">
                <li>Beba 2 litros de √°gua por dia</li>
                <li>√Ågua com lim√£o em jejum</li>
                <li>Evite refrigerantes</li>
                <li>Ch√°s naturais sem a√ß√∫car</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="moon"></i> Sono</h3>
            <ul class="info-list">
                <li>Durma 7-8 horas por noite</li>
                <li>Evite telas antes de dormir</li>
                <li>Crie uma rotina noturna</li>
                <li>Quarto escuro e silencioso</li>
            </ul>
        </div>
        <div class="info-card">
            <h3><i data-lucide="smile"></i> Bem-estar</h3>
            <ul class="info-list">
                <li>Pratique gratid√£o di√°ria</li>
                <li>Fa√ßa pausas durante o dia</li>
                <li>Mantenha contato com amigos</li>
                <li>Tenha um hobby relaxante</li>
            </ul>
        </div>
    </div>
</div>

<script>
// Initialize Lucide icons
lucide.createIcons();

// Firebase Config
const firebaseConfig = {
    apiKey: "AIzaSyBdIH1kKv_e4f25nubgQ9ED8hyfl-3FmbM",
    authDomain: "beamove-pro.firebaseapp.com",
    projectId: "beamove-pro",
    storageBucket: "beamove-pro.firebasestorage.app",
    messagingSenderId: "816563837877",
    appId: "1:816563837877:web:7d812c57fecc0338f117fc"
};

// Initialize Firebase
firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.firestore();

// Auth State Observer
auth.onAuthStateChanged(user => {
    if (user) {
        document.getElementById('loginScreen').classList.add('hidden');
        document.getElementById('registerScreen').classList.add('hidden');
        document.getElementById('appScreen').classList.remove('hidden');
        
        loadFeed();
        loadEvolution();
        loadChat();
        loadProfile();
        loadUserMetrics();
    } else {
        document.getElementById('loginScreen').classList.remove('hidden');
        document.getElementById('appScreen').classList.add('hidden');
    }
});

// Register
function register() {
    const username = document.getElementById('username').value.trim();
    const email = document.getElementById('registerEmail').value;
    const password = document.getElementById('registerPassword').value;
    
    if (!username.startsWith('@')) {
        alert('Username deve come√ßar com @');
        return;
    }
    
    db.collection('users').where('username', '==', username).get()
        .then(snapshot => {
            if (!snapshot.empty) {
                alert('Username j√° existe');
                return;
            }
            
            auth.createUserWithEmailAndPassword(email, password)
                .then(cred => {
                    return db.collection('users').doc(cred.user.uid).set({
                        username: username,
                        bio: '',
                        link: '',
                        name: username,
                        createdAt: new Date()
                    });
                })
                .then(() => {
                    showLogin();
                })
                .catch(error => {
                    alert(error.message);
                });
        });
}

// Login
function login() {
    const email = document.getElementById('loginEmail').value;
    const password = document.getElementById('loginPassword').value;
    
    auth.signInWithEmailAndPassword(email, password)
        .catch(error => {
            alert(error.message);
        });
}

// Logout
function logout() {
    auth.signOut();
}

// Show Register Screen
function showRegister() {
    document.getElementById('loginScreen').classList.add('hidden');
    document.getElementById('registerScreen').classList.remove('hidden');
}

// Show Login Screen
function showLogin() {
    document.getElementById('registerScreen').classList.add('hidden');
    document.getElementById('loginScreen').classList.remove('hidden');
}

// Toggle Dark Mode
function toggleDark() {
    document.body.classList.toggle('dark');
    lucide.createIcons();
}

// Show Tab
function showTab(tabName) {
    document.getElementById('home').classList.add('hidden');
    document.getElementById('evolution').classList.add('hidden');
    document.getElementById('chat').classList.add('hidden');
    document.getElementById('profile').classList.add('hidden');
    
    document.getElementById(tabName).classList.remove('hidden');
    
    document.querySelectorAll('.nav-item').forEach(item => {
        item.classList.remove('active');
    });
    event.currentTarget.classList.add('active');
    
    lucide.createIcons();
    
    if (tabName === 'chat') {
        scrollChatToBottom();
    }
}

// Category Functions
function openCategory(category) {
    document.getElementById(category + 'Page').classList.remove('hidden');
    lucide.createIcons();
}

function closeCategory() {
    document.querySelectorAll('.category-page').forEach(page => {
        page.classList.add('hidden');
    });
    lucide.createIcons();
}

// Evolution Functions
function addEvolution() {
    const input = document.getElementById('evolutionInput');
    if (!input.value.trim()) {
        alert('Digite algo para compartilhar!');
        return;
    }
    
    db.collection('evolutions').add({
        text: input.value,
        user: auth.currentUser.uid,
        created: new Date(),
        likes: 0,
        comments: 0
    })
    .then(() => {
        input.value = '';
    })
    .catch(error => {
        alert('Erro ao publicar: ' + error.message);
    });
}

function loadEvolution() {
    db.collection('evolutions').orderBy('created', 'desc')
        .onSnapshot(async snapshot => {
            const feed = document.getElementById('evolutionFeed');
            feed.innerHTML = '';
            
            for (const doc of snapshot.docs) {
                const evolution = doc.data();
                const userDoc = await db.collection('users').doc(evolution.user).get();
                const userData = userDoc.data();
                
                const card = document.createElement('div');
                card.className = 'evolution-card';
                card.innerHTML = `
                    <div class="evolution-header">
                        <div class="evolution-avatar">${userData.username.charAt(1).toUpperCase()}</div>
                        <div class="evolution-info">
                            <h4>${userData.username}</h4>
                            <div class="evolution-date">${formatDate(evolution.created)}</div>
                        </div>
                    </div>
                    <div class="evolution-content">${evolution.text}</div>
                    <div class="evolution-stats">
                        <div class="stat-badge">
                            <i data-lucide="heart" style="width: 14px; height: 14px;"></i>
                            ${evolution.likes || 0}
                        </div>
                        <div class="stat-badge">
                            <i data-lucide="message-circle" style="width: 14px; height: 14px;"></i>
                            ${evolution.comments || 0}
                        </div>
                    </div>
                `;
                feed.appendChild(card);
            }
            
            lucide.createIcons();
        });
}

// Chat Functions
function sendMessage() {
    const chatInput = document.getElementById('chatInput');
    if (!chatInput.value.trim()) {
        alert('Digite uma mensagem!');
        return;
    }
    
    db.collection('chat').add({
        text: chatInput.value,
        user: auth.currentUser.uid,
        created: new Date()
    })
    .then(() => {
        chatInput.value = '';
        scrollChatToBottom();
    })
    .catch(error => {
        alert('Erro ao enviar mensagem: ' + error.message);
    });
}

function loadChat() {
    db.collection('chat').orderBy('created')
        .onSnapshot(async snapshot => {
            const chatBox = document.getElementById('chatBox');
            chatBox.innerHTML = '';
            
            for (const doc of snapshot.docs) {
                const message = doc.data();
                const userDoc = await db.collection('users').doc(message.user).get();
                const userData = userDoc.data();
                
                const messageElement = document.createElement('div');
                messageElement.className = message.user === auth.currentUser.uid ? 'message sent' : 'message';
                messageElement.innerHTML = `
                    <div class="message-avatar">${userData.username.charAt(1).toUpperCase()}</div>
                    <div class="message-content">
                        <div class="message-header">
                            <span class="message-author">${userData.username}</span>
                            <span class="message-time">${formatDate(message.created)}</span>
                        </div>
                        <p>${message.text}</p>
                    </div>
                `;
                chatBox.appendChild(messageElement);
            }
            
            scrollChatToBottom();
        });
}

function scrollChatToBottom() {
    const chatBox = document.getElementById('chatBox');
    setTimeout(() => {
        chatBox.scrollTop = chatBox.scrollHeight;
    }, 100);
}

// Profile Functions
function loadProfile() {
    const user = auth.currentUser;
    
    db.collection('users').doc(user.uid).get()
        .then(doc => {
            const data = doc.data();
            document.getElementById('profileUsername').innerText = data.name || data.username;
            document.getElementById('profileUserHandle').innerText = data.username;
            document.getElementById('profileBio').innerText = data.bio || 'Ol√°, estou usando BEAMOVE! üí™';
            document.getElementById('profileAvatar').innerText = (data.name || data.username).charAt(1).toUpperCase();
            
            const linkElement = document.getElementById('profileLink');
            if (data.link) {
                linkElement.href = data.link;
                linkElement.querySelector('span').innerText = data.link.replace('https://', '');
            }
            
            loadProfileStats();
        });
    
    document.getElementById('editName').value = '';
    document.getElementById('editBio').value = '';
    document.getElementById('editLink').value = '';
}

function loadProfileStats() {
    db.collection('evolutions').where('user', '==', auth.currentUser.uid).get()
        .then(snapshot => {
            document.getElementById('profilePosts').innerText = snapshot.size;
        });
}

// Toggle Edit Profile
function toggleEditProfile() {
    const form = document.getElementById('editProfileForm');
    form.classList.toggle('hidden');
}

// Save Profile
function saveProfile() {
    const name = document.getElementById('editName').value;
    const bio = document.getElementById('editBio').value;
    const link = document.getElementById('editLink').value;
    
    const updates = {};
    if (name) updates.name = name;
    if (bio) updates.bio = bio;
    if (link) updates.link = link;
    
    db.collection('users').doc(auth.currentUser.uid).update(updates)
        .then(() => {
            loadProfile();
            toggleEditProfile();
            alert('Perfil atualizado com sucesso!');
        })
        .catch(error => {
            alert('Erro ao atualizar perfil: ' + error.message);
        });
}

// User Metrics Functions
function saveUserMetrics() {
    const birthDate = document.getElementById('userBirthDate').value;
    const height = document.getElementById('userHeight').value;
    const weight = document.getElementById('userWeight').value;
    const goal = document.getElementById('userGoal').value;
    const activity = document.getElementById('userActivity').value;
    
    if (!birthDate || !height || !weight) {
        alert('Preencha todos os campos obrigat√≥rios!');
        return;
    }
    
    const metrics = {
        birthDate: birthDate,
        height: parseFloat(height),
        weight: parseFloat(weight),
        goal: goal,
        activity: activity,
        recordedAt: new Date(),
        bmi: calculateBMI(weight, height)
    };
    
    db.collection('users').doc(auth.currentUser.uid).collection('metrics').add(metrics)
        .then(() => {
            alert('Ficha salva com sucesso!');
            loadUserMetrics();
            document.getElementById('registrationForm').classList.add('hidden');
        })
        .catch(error => {
            alert('Erro ao salvar: ' + error.message);
        });
}

function loadUserMetrics() {
    db.collection('users').doc(auth.currentUser.uid).collection('metrics')
        .orderBy('recordedAt', 'desc')
        .limit(5)
        .get()
        .then(snapshot => {
            const container = document.getElementById('progressCards');
            container.innerHTML = '';
            
            snapshot.forEach(doc => {
                const data = doc.data();
                const card = document.createElement('div');
                card.className = 'progress-card';
                card.innerHTML = `
                    <div class="progress-header">
                        <div class="progress-icon">
                            <i data-lucide="activity"></i>
                        </div>
                        <div>
                            <div class="progress-title">Registro de Progresso</div>
                            <div class="progress-date">${formatDate(data.recordedAt)}</div>
                        </div>
                    </div>
                    <div class="progress-content">
                        <div class="progress-item">
                            <span class="progress-label">Peso</span>
                            <span class="progress-value">${data.weight} kg</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Altura</span>
                            <span class="progress-value">${data.height} cm</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">IMC</span>
                            <span class="progress-value">${data.bmi.toFixed(1)}</span>
                        </div>
                        <div class="progress-item">
                            <span class="progress-label">Objetivo</span>
                            <span class="progress-value">${getGoalText(data.goal)}</span>
                        </div>
                    </div>
                `;
                container.appendChild(card);
            });
            
            lucide.createIcons();
        });
}

function calculateBMI(weight, height) {
    const heightInMeters = height / 100;
    return weight / (heightInMeters * heightInMeters);
}

function getGoalText(goal) {
    const goals = {
        'emagrecer': 'Emagrecer',
        'ganharMassa': 'Ganhar Massa',
        'definir': 'Definir',
        'saude': 'Sa√∫de'
    };
    return goals[goal] || goal;
}

// Format Date
function formatDate(date) {
    if (!date) return '';
    const d = new Date(date.seconds * 1000);
    const now = new Date();
    const diff = now - d;
    
    if (diff < 60000) return 'Agora mesmo';
    if (diff < 3600000) return `${Math.floor(diff / 60000)} min atr√°s`;
    if (diff < 86400000) return `${Math.floor(diff / 3600000)} h atr√°s`;
    if (diff < 604800000) return `${Math.floor(diff / 86400000)} d atr√°s`;
    
    return d.toLocaleDateString('pt-BR');
}

// Load Feed (placeholder)
function loadFeed() {
    // Placeholder function for compatibility
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
    lucide.createIcons();
});
</script>
</body>
</html>
